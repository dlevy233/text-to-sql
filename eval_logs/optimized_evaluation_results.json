{
  "prompt_template": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{{schema}}\n\n{{examples}}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\n{{question}}",
  "prompt_path": "./prompts/optimized.txt",
  "inject_schema": true,
  "results": [
    {
      "question": "How many teams are in the NBA?",
      "expected_sql": "SELECT COUNT(*) as team_count FROM team LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as team_count FROM team",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many teams are in the NBA?\nSQL: SELECT COUNT(*) as team_count FROM team LIMIT 1\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: What are the 5 oldest teams in the NBA?\nSQL: SELECT full_name FROM team ORDER BY year_founded ASC LIMIT 5\nSample results (3 of 5 rows):\n  ('Boston Celtics',)\n  ('Golden State Warriors',)\n  ('New York Knicks',)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many teams are in the NBA?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          30
        ]
      ],
      "expected_result": [
        [
          30
        ]
      ]
    },
    {
      "question": "What are the 5 oldest teams in the NBA?",
      "expected_sql": "SELECT full_name FROM team ORDER BY year_founded ASC LIMIT 5",
      "generated_sql": "SELECT full_name FROM team ORDER BY year_founded ASC LIMIT 5",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What are the 5 oldest teams in the NBA?\nSQL: SELECT full_name FROM team ORDER BY year_founded ASC LIMIT 5\nSample results (3 of 5 rows):\n  ('Boston Celtics',)\n  ('Golden State Warriors',)\n  ('New York Knicks',)\n\n\nQuestion: How many teams are in the NBA?\nSQL: SELECT COUNT(*) as team_count FROM team LIMIT 1\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat are the 5 oldest teams in the NBA?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Boston Celtics"
        ],
        [
          "Golden State Warriors"
        ],
        [
          "New York Knicks"
        ],
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Boston Celtics"
        ],
        [
          "Golden State Warriors"
        ],
        [
          "New York Knicks"
        ],
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "List all teams from California",
      "expected_sql": "SELECT full_name FROM team WHERE state = 'California'",
      "generated_sql": "SELECT full_name FROM team WHERE state = 'California'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all teams from California\nSQL: SELECT full_name FROM team WHERE state = 'California'\nSample results (3 of 4 rows):\n  ('Golden State Warriors',)\n  ('Los Angeles Clippers',)\n  ('Los Angeles Lakers',)\n\n\nQuestion: List all teams that have never made the playoffs\nSQL: SELECT t.full_name FROM team t WHERE NOT EXISTS (SELECT 1 FROM game g WHERE g.season_type = 'Playoffs' AND (g.team_id_home = t.id OR g.team_id_away = t.id))\nNo results\n\nQuestion: List all teams that have never changed their team name\nSQL: SELECT t.full_name FROM team t LEFT JOIN team_history th ON t.id = th.team_id WHERE th.team_id IS NULL\nSample results (3 of 3 rows):\n  ('San Antonio Spurs',)\n  ('Washington Wizards',)\n  ('Charlotte Hornets',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all teams from California",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Golden State Warriors"
        ],
        [
          "Los Angeles Clippers"
        ],
        [
          "Los Angeles Lakers"
        ],
        [
          "Sacramento Kings"
        ]
      ],
      "expected_result": [
        [
          "Golden State Warriors"
        ],
        [
          "Los Angeles Clippers"
        ],
        [
          "Los Angeles Lakers"
        ],
        [
          "Sacramento Kings"
        ]
      ]
    },
    {
      "question": "What's the total number of games played?",
      "expected_sql": "SELECT COUNT(DISTINCT game_id) as total_games FROM game LIMIT 1",
      "generated_sql": "SELECT COUNT(DISTINCT game_id) AS total_games FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the total number of games played?\nSQL: SELECT COUNT(DISTINCT game_id) as total_games FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (65642,)\n\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\nQuestion: How many games are played on Christmas Day?\nSQL: SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1\nSample results (1 of 1 rows):\n  (207,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the total number of games played?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          65642
        ]
      ],
      "expected_result": [
        [
          65642
        ]
      ]
    },
    {
      "question": "What's the highest scoring game?",
      "expected_sql": "SELECT g.pts_home + g.pts_away as total_points FROM game g ORDER BY total_points DESC LIMIT 1",
      "generated_sql": "SELECT g.pts_home + g.pts_away as total_points, g.team_name_home, g.team_name_away, g.game_date \nFROM game g \nORDER BY total_points DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the highest scoring game?\nSQL: SELECT g.pts_home + g.pts_away as total_points FROM game g ORDER BY total_points DESC LIMIT 1\nSample results (1 of 1 rows):\n  (374.0,)\n\n\nQuestion: What's the average points per game?\nSQL: SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (102.81,)\n\n\nQuestion: Which team has the most assists per game?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Charlotte Hornets',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the highest scoring game?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          374.0,
          "West NBA All Stars West",
          "East NBA All Stars East",
          "2017-02-19 00:00:00"
        ]
      ],
      "expected_result": [
        [
          374.0
        ]
      ]
    },
    {
      "question": "How many players are from Duke University?",
      "expected_sql": "SELECT COUNT(*) as player_count FROM draft_history WHERE organization = 'Duke University' LIMIT 1",
      "generated_sql": "SELECT COUNT(*) FROM draft_history WHERE organization = 'Duke University'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players are from Duke University?\nSQL: SELECT COUNT(*) as player_count FROM draft_history WHERE organization = 'Duke University' LIMIT 1\nSample results (1 of 1 rows):\n  (0,)\n\n\nQuestion: How many players are from Kentucky?\nSQL: SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'\nSample results (1 of 1 rows):\n  (141,)\n\n\nQuestion: How many players are guards?\nSQL: SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%' LIMIT 1\nSample results (1 of 1 rows):\n  (1604,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players are from Duke University?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          0
        ]
      ],
      "expected_result": [
        [
          0
        ]
      ]
    },
    {
      "question": "Which team has the most home games?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON g.team_id_home = t.id \nGROUP BY t.id, t.full_name \nORDER BY COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: What percentage of games are won by the home team?\nSQL: SELECT ROUND(CAST(SUM(CASE WHEN pts_home > pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as home_win_pct FROM game\nSample results (1 of 1 rows):\n  (61.88,)\n\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most home games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Boston Celtics"
        ]
      ],
      "expected_result": [
        [
          "Boston Celtics"
        ]
      ]
    },
    {
      "question": "What's the average points per game?",
      "expected_sql": "SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game LIMIT 1",
      "generated_sql": "SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average points per game?\nSQL: SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (102.81,)\n\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average points per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          102.81
        ]
      ],
      "expected_result": [
        [
          102.81
        ]
      ]
    },
    {
      "question": "List all players from Spain",
      "expected_sql": "SELECT first_name, last_name FROM common_player_info WHERE country = 'Spain'",
      "generated_sql": "SELECT first_name, last_name FROM common_player_info WHERE country = 'Spain'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all players from Spain\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Spain'\nSample results (3 of 11 rows):\n  ('Alex', 'Abrines')\n  ('Santi', 'Aldama')\n  ('Jose', 'Calderon')\n\n\nQuestion: List all players from Serbia\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Serbia'\nSample results (3 of 21 rows):\n  ('Nemanja', 'Bjelica')\n  ('Bogdan', 'Bogdanovic')\n  ('Rastko', 'Cvetkovic')\n\n\nQuestion: List all rookie players\nSQL: SELECT first_name, last_name FROM common_player_info WHERE season_exp = 0\nSample results (3 of 5 rows):\n  ('Ibou', 'Badji')\n  ('Collin', 'Gillespie')\n  ('Chet', 'Holmgren')\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all players from Spain",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Alex",
          "Abrines"
        ],
        [
          "Santi",
          "Aldama"
        ],
        [
          "Jose",
          "Calderon"
        ],
        [
          "Victor",
          "Claver"
        ]
      ],
      "expected_result": [
        [
          "Alex",
          "Abrines"
        ],
        [
          "Santi",
          "Aldama"
        ],
        [
          "Jose",
          "Calderon"
        ],
        [
          "Victor",
          "Claver"
        ]
      ]
    },
    {
      "question": "How many games went to overtime?",
      "expected_sql": "SELECT COUNT(*) as ot_games FROM line_score WHERE pts_ot1_home IS NOT NULL LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as ot_games FROM line_score WHERE pts_ot1_home IS NOT NULL",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games went to overtime?\nSQL: SELECT COUNT(*) as ot_games FROM line_score WHERE pts_ot1_home IS NOT NULL LIMIT 1\nSample results (1 of 1 rows):\n  (32294,)\n\n\nQuestion: List all games that went to overtime\nSQL: SELECT g.game_id FROM game g JOIN line_score ls ON g.game_id = ls.game_id WHERE ls.pts_ot1_home IS NOT NULL\nSample results (3 of 32390 rows):\n  ('0024600001',)\n  ('0024600024',)\n  ('0024600026',)\n\n\nQuestion: What's the most common final score in overtime games?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot1_home IS NOT NULL GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-98.0',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games went to overtime?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          32294
        ]
      ],
      "expected_result": [
        [
          32294
        ]
      ]
    },
    {
      "question": "What's the most common jersey number?",
      "expected_sql": "SELECT jersey FROM common_player_info WHERE jersey != '' GROUP BY jersey ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT jersey FROM common_player_info WHERE jersey != '' GROUP BY jersey ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common jersey number?\nSQL: SELECT jersey FROM common_player_info WHERE jersey != '' GROUP BY jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('12',)\n\n\nQuestion: What's the most common jersey number by position?\nSQL: SELECT cpi.position, cpi.jersey FROM common_player_info cpi WHERE cpi.jersey != '' AND cpi.position IS NOT NULL GROUP BY cpi.position, cpi.jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard', '5')\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common jersey number?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "12"
        ]
      ],
      "expected_result": [
        [
          "12"
        ]
      ]
    },
    {
      "question": "List all teams in the Eastern Conference",
      "expected_sql": "SELECT full_name FROM team WHERE city IN ('Boston', 'Brooklyn', 'New York', 'Philadelphia', 'Toronto', 'Chicago', 'Cleveland', 'Detroit', 'Indiana', 'Milwaukee', 'Atlanta', 'Charlotte', 'Miami', 'Orlando', 'Washington')",
      "generated_sql": "SELECT full_name FROM team WHERE city IN ('Boston', 'Brooklyn', 'New York', 'Philadelphia', 'Toronto', 'Chicago', 'Cleveland', 'Detroit', 'Indiana', 'Milwaukee', 'Atlanta', 'Charlotte', 'Miami', 'Orlando', 'Washington')",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all teams in the Eastern Conference\nSQL: SELECT full_name FROM team WHERE city IN ('Boston', 'Brooklyn', 'New York', 'Philadelphia', 'Toronto', 'Chicago', 'Cleveland', 'Detroit', 'Indiana', 'Milwaukee', 'Atlanta', 'Charlotte', 'Miami', 'Orlando', 'Washington')\nSample results (3 of 15 rows):\n  ('Atlanta Hawks',)\n  ('Boston Celtics',)\n  ('Cleveland Cavaliers',)\n\n\nQuestion: List all teams from California\nSQL: SELECT full_name FROM team WHERE state = 'California'\nSample results (3 of 4 rows):\n  ('Golden State Warriors',)\n  ('Los Angeles Clippers',)\n  ('Los Angeles Lakers',)\n\n\nQuestion: List all teams that have never made the playoffs\nSQL: SELECT t.full_name FROM team t WHERE NOT EXISTS (SELECT 1 FROM game g WHERE g.season_type = 'Playoffs' AND (g.team_id_home = t.id OR g.team_id_away = t.id))\nNo results\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all teams in the Eastern Conference",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Atlanta Hawks"
        ],
        [
          "Boston Celtics"
        ],
        [
          "Cleveland Cavaliers"
        ],
        [
          "Chicago Bulls"
        ]
      ],
      "expected_result": [
        [
          "Atlanta Hawks"
        ],
        [
          "Boston Celtics"
        ],
        [
          "Cleveland Cavaliers"
        ],
        [
          "Chicago Bulls"
        ]
      ]
    },
    {
      "question": "What's the average height of NBA players?",
      "expected_sql": "SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1",
      "generated_sql": "SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average height of NBA players?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1\nSample results (1 of 1 rows):\n  (6.03,)\n\n\nQuestion: What's the average weight of NBA players?\nSQL: SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != '' LIMIT 1\nSample results (1 of 1 rows):\n  (211.2,)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average height of NBA players?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          6.03
        ]
      ],
      "expected_result": [
        [
          6.03
        ]
      ]
    },
    {
      "question": "How many players were drafted in 2020?",
      "expected_sql": "SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players were drafted in 2020?\nSQL: SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1\nSample results (1 of 1 rows):\n  (60,)\n\n\nQuestion: List all players drafted in 2016\nSQL: SELECT player_name FROM draft_history WHERE season = 2016 ORDER BY overall_pick\nSample results (3 of 60 rows):\n  ('Ben Simmons',)\n  ('Brandon Ingram',)\n  ('Jaylen Brown',)\n\n\nQuestion: How many players were drafted in the first round in 2019?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1\nSample results (1 of 1 rows):\n  (30,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players were drafted in 2020?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          60
        ]
      ],
      "expected_result": [
        [
          60
        ]
      ]
    },
    {
      "question": "Which team has the newest arena?",
      "expected_sql": "SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id ORDER BY td.arena DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM team t \nJOIN team_details td ON t.id = td.team_id \nORDER BY td.arena DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the newest arena?\nSQL: SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id ORDER BY td.arena DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Philadelphia 76ers',)\n\n\nQuestion: What is the arena capacity for the Warriors?\nSQL: SELECT td.arenacapacity FROM team t JOIN team_details td ON t.id = td.team_id WHERE t.nickname = 'Warriors'\nSample results (1 of 1 rows):\n  (None,)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the newest arena?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Philadelphia 76ers"
        ]
      ],
      "expected_result": [
        [
          "Philadelphia 76ers"
        ]
      ]
    },
    {
      "question": "What's the average weight of NBA players?",
      "expected_sql": "SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != '' LIMIT 1",
      "generated_sql": "SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != ''",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average weight of NBA players?\nSQL: SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != '' LIMIT 1\nSample results (1 of 1 rows):\n  (211.2,)\n\n\nQuestion: What's the average height of NBA players?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1\nSample results (1 of 1 rows):\n  (6.03,)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average weight of NBA players?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          211.2
        ]
      ],
      "expected_result": [
        [
          211.2
        ]
      ]
    },
    {
      "question": "List all rookie players",
      "expected_sql": "SELECT first_name, last_name FROM common_player_info WHERE season_exp = 0",
      "generated_sql": "SELECT first_name, last_name FROM common_player_info WHERE season_exp = 0",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all rookie players\nSQL: SELECT first_name, last_name FROM common_player_info WHERE season_exp = 0\nSample results (3 of 5 rows):\n  ('Ibou', 'Badji')\n  ('Collin', 'Gillespie')\n  ('Chet', 'Holmgren')\n\n\nQuestion: List all players from Serbia\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Serbia'\nSample results (3 of 21 rows):\n  ('Nemanja', 'Bjelica')\n  ('Bogdan', 'Bogdanovic')\n  ('Rastko', 'Cvetkovic')\n\n\nQuestion: List all players from Spain\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Spain'\nSample results (3 of 11 rows):\n  ('Alex', 'Abrines')\n  ('Santi', 'Aldama')\n  ('Jose', 'Calderon')\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all rookie players",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Ibou",
          "Badji"
        ],
        [
          "Collin",
          "Gillespie"
        ],
        [
          "Chet",
          "Holmgren"
        ],
        [
          "Justin",
          "Lewis"
        ]
      ],
      "expected_result": [
        [
          "Ibou",
          "Badji"
        ],
        [
          "Collin",
          "Gillespie"
        ],
        [
          "Chet",
          "Holmgren"
        ],
        [
          "Justin",
          "Lewis"
        ]
      ]
    },
    {
      "question": "How many games are played on Christmas Day?",
      "expected_sql": "SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games are played on Christmas Day?\nSQL: SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1\nSample results (1 of 1 rows):\n  (207,)\n\n\nQuestion: Which team has the best record on Christmas Day?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) JOIN game_info gi ON g.game_id = gi.game_id WHERE strftime('%m-%d', gi.game_date) = '12-25' GROUP BY t.id, t.full_name HAVING COUNT(*) >= 5 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Miami Heat',)\n\n\nQuestion: How many games were played on New Year's Day?\nSQL: SELECT COUNT(*) FROM game_info WHERE strftime('%m-%d', game_date) = '01-01'\nSample results (1 of 1 rows):\n  (159,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games are played on Christmas Day?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          207
        ]
      ],
      "expected_result": [
        [
          207
        ]
      ]
    },
    {
      "question": "What's the most points scored by the home team?",
      "expected_sql": "SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1",
      "generated_sql": "SELECT MAX(pts_home) FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most points scored by the home team?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          192.0
        ]
      ],
      "expected_result": [
        [
          192.0
        ]
      ]
    },
    {
      "question": "Which team has the longest name?",
      "expected_sql": "SELECT full_name FROM team ORDER BY LENGTH(full_name) DESC LIMIT 1",
      "generated_sql": "SELECT full_name FROM team ORDER BY LENGTH(full_name) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the longest name?\nSQL: SELECT full_name FROM team ORDER BY LENGTH(full_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Minnesota Timberwolves',)\n\n\nQuestion: Who is the player with the longest name?\nSQL: SELECT first_name || ' ' || last_name as full_name FROM common_player_info ORDER BY LENGTH(first_name || ' ' || last_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Kentavious Caldwell-Pope',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the longest name?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Minnesota Timberwolves"
        ]
      ],
      "expected_result": [
        [
          "Minnesota Timberwolves"
        ]
      ]
    },
    {
      "question": "How many players are guards?",
      "expected_sql": "SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%' LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players are guards?\nSQL: SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%' LIMIT 1\nSample results (1 of 1 rows):\n  (1604,)\n\n\nQuestion: How many players are from Kentucky?\nSQL: SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'\nSample results (1 of 1 rows):\n  (141,)\n\n\nQuestion: How many active players are there?\nSQL: SELECT COUNT(*) as active_players FROM player WHERE is_active = 1\nSample results (1 of 1 rows):\n  (535,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players are guards?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          1604
        ]
      ],
      "expected_result": [
        [
          1604
        ]
      ]
    },
    {
      "question": "What's the average game time in hours?",
      "expected_sql": "SELECT ROUND(AVG(CAST(SUBSTR(game_time, 1, INSTR(game_time, ':') - 1) AS INTEGER)), 2) as avg_hours FROM game_info WHERE game_time != '' LIMIT 1",
      "generated_sql": "SELECT ROUND(AVG(CAST(SUBSTR(game_time, 1, INSTR(game_time, ':') - 1) AS INTEGER)), 2) as avg_hours FROM game_info WHERE game_time != '' LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average game time in hours?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(game_time, 1, INSTR(game_time, ':') - 1) AS INTEGER)), 2) as avg_hours FROM game_info WHERE game_time != '' LIMIT 1\nSample results (1 of 1 rows):\n  (1.99,)\n\n\nQuestion: What's the average points per game?\nSQL: SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (102.81,)\n\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average game time in hours?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          1.99
        ]
      ],
      "expected_result": [
        [
          1.99
        ]
      ]
    },
    {
      "question": "List all teams that have never made the playoffs",
      "expected_sql": "SELECT t.full_name FROM team t WHERE NOT EXISTS (SELECT 1 FROM game g WHERE g.season_type = 'Playoffs' AND (g.team_id_home = t.id OR g.team_id_away = t.id))",
      "generated_sql": "SELECT t.full_name \nFROM team t \nWHERE NOT EXISTS (\n    SELECT 1 \n    FROM game g \n    WHERE g.season_type = 'Playoffs' \n    AND (g.team_id_home = t.id OR g.team_id_away = t.id)\n)",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all teams that have never made the playoffs\nSQL: SELECT t.full_name FROM team t WHERE NOT EXISTS (SELECT 1 FROM game g WHERE g.season_type = 'Playoffs' AND (g.team_id_home = t.id OR g.team_id_away = t.id))\nNo results\n\nQuestion: List all teams from California\nSQL: SELECT full_name FROM team WHERE state = 'California'\nSample results (3 of 4 rows):\n  ('Golden State Warriors',)\n  ('Los Angeles Clippers',)\n  ('Los Angeles Lakers',)\n\n\nQuestion: List all teams that have never changed their team name\nSQL: SELECT t.full_name FROM team t LEFT JOIN team_history th ON t.id = th.team_id WHERE th.team_id IS NULL\nSample results (3 of 3 rows):\n  ('San Antonio Spurs',)\n  ('Washington Wizards',)\n  ('Charlotte Hornets',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all teams that have never made the playoffs",
      "result_match": true,
      "success": true,
      "generated_result": null,
      "expected_result": null
    },
    {
      "question": "What's the most common player position?",
      "expected_sql": "SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\nQuestion: What's the most common player height?\nSQL: SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('6-5',)\n\n\nQuestion: What's the most common player weight?\nSQL: SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('190',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common player position?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Guard"
        ]
      ],
      "expected_result": [
        [
          "Guard"
        ]
      ]
    },
    {
      "question": "List all players drafted in 2016",
      "expected_sql": "SELECT player_name FROM draft_history WHERE season = 2016 ORDER BY overall_pick",
      "generated_sql": "SELECT player_name FROM draft_history WHERE season = '2016' ORDER BY overall_pick",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all players drafted in 2016\nSQL: SELECT player_name FROM draft_history WHERE season = 2016 ORDER BY overall_pick\nSample results (3 of 60 rows):\n  ('Ben Simmons',)\n  ('Brandon Ingram',)\n  ('Jaylen Brown',)\n\n\nQuestion: How many players were drafted in 2020?\nSQL: SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1\nSample results (1 of 1 rows):\n  (60,)\n\n\nQuestion: How many players were drafted in the first round in 2019?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1\nSample results (1 of 1 rows):\n  (30,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all players drafted in 2016",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Ben Simmons"
        ],
        [
          "Brandon Ingram"
        ],
        [
          "Jaylen Brown"
        ],
        [
          "Dragan Bender"
        ]
      ],
      "expected_result": [
        [
          "Ben Simmons"
        ],
        [
          "Brandon Ingram"
        ],
        [
          "Jaylen Brown"
        ],
        [
          "Dragan Bender"
        ]
      ]
    },
    {
      "question": "What are the top 10 teams by total points scored?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN g.pts_home ELSE g.pts_away END) DESC LIMIT 10",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN g.pts_home ELSE g.pts_away END) DESC \nLIMIT 10",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What are the top 10 teams by total points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN g.pts_home ELSE g.pts_away END) DESC LIMIT 10\nSample results (3 of 10 rows):\n  ('Los Angeles Lakers',)\n  ('Boston Celtics',)\n  ('Golden State Warriors',)\n\n\nQuestion: List all games where both teams scored over 120 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 120 AND g.pts_away > 120\nSample results (3 of 2596 rows):\n  ('0024900095',)\n  ('0025500075',)\n  ('0025500238',)\n\n\nQuestion: List all games where both teams scored over 110 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 110 AND g.pts_away > 110\nSample results (3 of 10358 rows):\n  ('0024800300',)\n  ('0024900096',)\n  ('0024900095',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat are the top 10 teams by total points scored?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ],
        [
          "Boston Celtics"
        ],
        [
          "Golden State Warriors"
        ],
        [
          "Philadelphia 76ers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ],
        [
          "Boston Celtics"
        ],
        [
          "Golden State Warriors"
        ],
        [
          "Philadelphia 76ers"
        ]
      ]
    },
    {
      "question": "List all games where both teams scored over 110 points",
      "expected_sql": "SELECT g.game_id FROM game g WHERE g.pts_home > 110 AND g.pts_away > 110",
      "generated_sql": "SELECT game_id FROM game WHERE pts_home > 110 AND pts_away > 110",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all games where both teams scored over 110 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 110 AND g.pts_away > 110\nSample results (3 of 10358 rows):\n  ('0024800300',)\n  ('0024900096',)\n  ('0024900095',)\n\n\nQuestion: List all games where both teams scored over 120 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 120 AND g.pts_away > 120\nSample results (3 of 2596 rows):\n  ('0024900095',)\n  ('0025500075',)\n  ('0025500238',)\n\n\nQuestion: What are the top 10 teams by total points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN g.pts_home ELSE g.pts_away END) DESC LIMIT 10\nSample results (3 of 10 rows):\n  ('Los Angeles Lakers',)\n  ('Boston Celtics',)\n  ('Golden State Warriors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all games where both teams scored over 110 points",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "0024800300"
        ],
        [
          "0024900096"
        ],
        [
          "0024900095"
        ],
        [
          "0025400102"
        ]
      ],
      "expected_result": [
        [
          "0024800300"
        ],
        [
          "0024900096"
        ],
        [
          "0024900095"
        ],
        [
          "0025400102"
        ]
      ]
    },
    {
      "question": "How many active players are there?",
      "expected_sql": "SELECT COUNT(*) as active_players FROM player WHERE is_active = 1",
      "generated_sql": "SELECT COUNT(*) as active_players FROM player WHERE is_active = 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many active players are there?\nSQL: SELECT COUNT(*) as active_players FROM player WHERE is_active = 1\nSample results (1 of 1 rows):\n  (535,)\n\n\nQuestion: How many players are from Kentucky?\nSQL: SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'\nSample results (1 of 1 rows):\n  (141,)\n\n\nQuestion: How many players are guards?\nSQL: SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%' LIMIT 1\nSample results (1 of 1 rows):\n  (1604,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many active players are there?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          535
        ]
      ],
      "expected_result": [
        [
          535
        ]
      ]
    },
    {
      "question": "What's the most common jersey number by position?",
      "expected_sql": "SELECT cpi.position, cpi.jersey FROM common_player_info cpi WHERE cpi.jersey != '' AND cpi.position IS NOT NULL GROUP BY cpi.position, cpi.jersey ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT position, jersey, COUNT(*) as count\nFROM common_player_info\nWHERE jersey != '' AND position IS NOT NULL\nGROUP BY position, jersey\nORDER BY position, count DESC",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common jersey number by position?\nSQL: SELECT cpi.position, cpi.jersey FROM common_player_info cpi WHERE cpi.jersey != '' AND cpi.position IS NOT NULL GROUP BY cpi.position, cpi.jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard', '5')\n\n\nQuestion: What's the most common jersey number?\nSQL: SELECT jersey FROM common_player_info WHERE jersey != '' GROUP BY jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('12',)\n\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common jersey number by position?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          "Center",
          "50",
          25
        ],
        [
          "Center",
          "40",
          19
        ],
        [
          "Center",
          "55",
          17
        ],
        [
          "Center",
          "34",
          17
        ]
      ],
      "expected_result": [
        [
          "Guard",
          "5"
        ]
      ]
    },
    {
      "question": "Which team has the biggest home court advantage in terms of win percentage?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY (CAST(SUM(CASE WHEN g.team_id_home = t.id AND g.pts_home > g.pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_home = t.id THEN 1 END) * 100 - CAST(SUM(CASE WHEN g.team_id_away = t.id AND g.pts_away > g.pts_home THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_away = t.id THEN 1 END) * 100) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id = g.team_id_home \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 100 \nORDER BY (CAST(SUM(CASE WHEN g.pts_home > g.pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*)) - \n         (SELECT CAST(SUM(CASE WHEN g2.pts_away > g2.pts_home THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) \n          FROM game g2 \n          WHERE g2.team_id_away = t.id) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the biggest home court advantage in terms of win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY (CAST(SUM(CASE WHEN g.team_id_home = t.id AND g.pts_home > g.pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_home = t.id THEN 1 END) * 100 - CAST(SUM(CASE WHEN g.team_id_away = t.id AND g.pts_away > g.pts_home THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_away = t.id THEN 1 END) * 100) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Atlanta Hawks',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the biggest home court advantage in terms of win percentage?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Atlanta Hawks"
        ]
      ],
      "expected_result": [
        [
          "Atlanta Hawks"
        ]
      ]
    },
    {
      "question": "Which season type has the highest average attendance?",
      "expected_sql": "SELECT g.season_type, ROUND(AVG(gi.attendance), 0) as avg_attendance FROM game g JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY g.season_type ORDER BY avg_attendance DESC LIMIT 1",
      "generated_sql": "SELECT g.season_type, ROUND(AVG(gi.attendance), 0) as avg_attendance \nFROM game g \nJOIN game_info gi ON g.game_id = gi.game_id \nWHERE gi.attendance > 0 \nGROUP BY g.season_type \nORDER BY avg_attendance DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which season type has the highest average attendance?\nSQL: SELECT g.season_type, ROUND(AVG(gi.attendance), 0) as avg_attendance FROM game g JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY g.season_type ORDER BY avg_attendance DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('All-Star', 24658.0)\n\n\nQuestion: Which team has the highest average attendance?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY t.id, t.full_name ORDER BY AVG(gi.attendance) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich season type has the highest average attendance?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "All-Star",
          24658.0
        ]
      ],
      "expected_result": [
        [
          "All-Star",
          24658.0
        ]
      ]
    },
    {
      "question": "Which team has had the most different home arenas?",
      "expected_sql": "SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT td.arena) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM team t \nJOIN team_details td ON t.id = td.team_id \nGROUP BY t.id, t.full_name \nORDER BY COUNT(DISTINCT td.arena) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has had the most different home arenas?\nSQL: SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT td.arena) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Atlanta Hawks',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the most different players on their all-time roster?\nSQL: SELECT t.full_name FROM team t JOIN common_player_info cpi ON t.id = cpi.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT cpi.person_id) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Golden State Warriors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has had the most different home arenas?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Atlanta Hawks"
        ]
      ],
      "expected_result": [
        [
          "Atlanta Hawks"
        ]
      ]
    },
    {
      "question": "What's the most common first name among NBA players?",
      "expected_sql": "SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\nQuestion: What's the average weight of NBA players?\nSQL: SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != '' LIMIT 1\nSample results (1 of 1 rows):\n  (211.2,)\n\n\nQuestion: What's the average height of NBA players?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1\nSample results (1 of 1 rows):\n  (6.03,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common first name among NBA players?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "John"
        ]
      ],
      "expected_result": [
        [
          "John"
        ]
      ]
    },
    {
      "question": "Which conference produces the most drafted players?",
      "expected_sql": "SELECT CASE WHEN dh.organization LIKE '%ACC%' THEN 'ACC' WHEN dh.organization LIKE '%SEC%' THEN 'SEC' WHEN dh.organization LIKE '%Big Ten%' THEN 'Big Ten' ELSE 'Other' END as conference FROM draft_history dh WHERE dh.organization_type = 'College/University' GROUP BY conference ORDER BY COUNT(DISTINCT dh.person_id) DESC LIMIT 1",
      "generated_sql": "SELECT \n    CASE \n        WHEN organization LIKE '%ACC%' THEN 'ACC'\n        WHEN organization LIKE '%SEC%' THEN 'SEC'\n        WHEN organization LIKE '%Big Ten%' THEN 'Big Ten'\n        WHEN organization LIKE '%Big 12%' THEN 'Big 12'\n        WHEN organization LIKE '%Pac-12%' OR organization LIKE '%Pac 12%' THEN 'Pac-12'\n        WHEN organization LIKE '%Big East%' THEN 'Big East'\n        ELSE 'Other'\n    END AS conference,\n    COUNT(DISTINCT person_id) AS player_count\nFROM draft_history\nWHERE organization_type = 'College/University'\nGROUP BY conference\nORDER BY player_count DESC\nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which conference produces the most drafted players?\nSQL: SELECT CASE WHEN dh.organization LIKE '%ACC%' THEN 'ACC' WHEN dh.organization LIKE '%SEC%' THEN 'SEC' WHEN dh.organization LIKE '%Big Ten%' THEN 'Big Ten' ELSE 'Other' END as conference FROM draft_history dh WHERE dh.organization_type = 'College/University' GROUP BY conference ORDER BY COUNT(DISTINCT dh.person_id) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Other',)\n\n\nQuestion: How many players were drafted in 2020?\nSQL: SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1\nSample results (1 of 1 rows):\n  (60,)\n\n\nQuestion: List all players drafted in 2016\nSQL: SELECT player_name FROM draft_history WHERE season = 2016 ORDER BY overall_pick\nSample results (3 of 60 rows):\n  ('Ben Simmons',)\n  ('Brandon Ingram',)\n  ('Jaylen Brown',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich conference produces the most drafted players?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          "Other",
          7711
        ]
      ],
      "expected_result": [
        [
          "Other"
        ]
      ]
    },
    {
      "question": "Which team has the highest percentage of international players?",
      "expected_sql": "SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM common_player_info cpi \nJOIN team t ON cpi.team_id = t.id \nGROUP BY cpi.team_id, t.full_name \nHAVING COUNT(*) >= 10 \nORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest percentage of international players?\nSQL: SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest 3-point shooting percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest percentage of international players?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Toronto Raptors"
        ]
      ],
      "expected_result": [
        [
          "Toronto Raptors"
        ]
      ]
    },
    {
      "question": "Which school has the best average draft position?",
      "expected_sql": "SELECT dh.organization FROM draft_history dh WHERE dh.organization_type = 'College/University' GROUP BY dh.organization HAVING COUNT(*) >= 5 ORDER BY AVG(dh.overall_pick) ASC LIMIT 1",
      "generated_sql": "SELECT dh.organization \nFROM draft_history dh \nWHERE dh.organization_type = 'College/University' \nGROUP BY dh.organization \nHAVING COUNT(*) >= 5 \nORDER BY AVG(dh.overall_pick) ASC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which school has the best average draft position?\nSQL: SELECT dh.organization FROM draft_history dh WHERE dh.organization_type = 'College/University' GROUP BY dh.organization HAVING COUNT(*) >= 5 ORDER BY AVG(dh.overall_pick) ASC LIMIT 1\nSample results (1 of 1 rows):\n  ('Truman State',)\n\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\nQuestion: What's the most common jersey number by position?\nSQL: SELECT cpi.position, cpi.jersey FROM common_player_info cpi WHERE cpi.jersey != '' AND cpi.position IS NOT NULL GROUP BY cpi.position, cpi.jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard', '5')\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich school has the best average draft position?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Truman State"
        ]
      ],
      "expected_result": [
        [
          "Truman State"
        ]
      ]
    },
    {
      "question": "List all teams that have never changed their team name",
      "expected_sql": "SELECT t.full_name FROM team t LEFT JOIN team_history th ON t.id = th.team_id WHERE th.team_id IS NULL",
      "generated_sql": "SELECT t.full_name \nFROM team t \nLEFT JOIN team_history th ON t.id = th.team_id \nWHERE th.team_id IS NULL",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all teams that have never changed their team name\nSQL: SELECT t.full_name FROM team t LEFT JOIN team_history th ON t.id = th.team_id WHERE th.team_id IS NULL\nSample results (3 of 3 rows):\n  ('San Antonio Spurs',)\n  ('Washington Wizards',)\n  ('Charlotte Hornets',)\n\n\nQuestion: List all teams that have never made the playoffs\nSQL: SELECT t.full_name FROM team t WHERE NOT EXISTS (SELECT 1 FROM game g WHERE g.season_type = 'Playoffs' AND (g.team_id_home = t.id OR g.team_id_away = t.id))\nNo results\n\nQuestion: List all teams from California\nSQL: SELECT full_name FROM team WHERE state = 'California'\nSample results (3 of 4 rows):\n  ('Golden State Warriors',)\n  ('Los Angeles Clippers',)\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all teams that have never changed their team name",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "San Antonio Spurs"
        ],
        [
          "Washington Wizards"
        ],
        [
          "Charlotte Hornets"
        ]
      ],
      "expected_result": [
        [
          "San Antonio Spurs"
        ],
        [
          "Washington Wizards"
        ],
        [
          "Charlotte Hornets"
        ]
      ]
    },
    {
      "question": "Who is the referee that has officiated the most games?",
      "expected_sql": "SELECT o.first_name || ' ' || o.last_name as name FROM officials o GROUP BY o.official_id, o.first_name, o.last_name ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT o.first_name || ' ' || o.last_name as name \nFROM officials o \nGROUP BY o.official_id, o.first_name, o.last_name \nORDER BY COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Who is the referee that has officiated the most games?\nSQL: SELECT o.first_name || ' ' || o.last_name as name FROM officials o GROUP BY o.official_id, o.first_name, o.last_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Scott Foster',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWho is the referee that has officiated the most games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Scott Foster"
        ]
      ],
      "expected_result": [
        [
          "Scott Foster"
        ]
      ]
    },
    {
      "question": "List all games with more than 15 lead changes",
      "expected_sql": "SELECT g.game_id FROM game g JOIN other_stats os ON g.game_id = os.game_id WHERE os.lead_changes > 15",
      "generated_sql": "SELECT g.game_id \nFROM game g \nJOIN other_stats os ON g.game_id = os.game_id \nWHERE os.lead_changes > 15",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all games with more than 15 lead changes\nSQL: SELECT g.game_id FROM game g JOIN other_stats os ON g.game_id = os.game_id WHERE os.lead_changes > 15\nSample results (3 of 1762 rows):\n  ('0029600006',)\n  ('0029600048',)\n  ('0029600065',)\n\n\nQuestion: Which team has the most games with 15+ three-pointers made?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.fg3m_home >= 15) OR (g.team_id_away = t.id AND g.fg3m_away >= 15) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Houston Rockets',)\n\n\nQuestion: List all games that went to overtime\nSQL: SELECT g.game_id FROM game g JOIN line_score ls ON g.game_id = ls.game_id WHERE ls.pts_ot1_home IS NOT NULL\nSample results (3 of 32390 rows):\n  ('0024600001',)\n  ('0024600024',)\n  ('0024600026',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all games with more than 15 lead changes",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "0029600006"
        ],
        [
          "0029600048"
        ],
        [
          "0029600065"
        ],
        [
          "0029600100"
        ]
      ],
      "expected_result": [
        [
          "0029600006"
        ],
        [
          "0029600048"
        ],
        [
          "0029600065"
        ],
        [
          "0029600100"
        ]
      ]
    },
    {
      "question": "Which team has the highest win percentage?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 100 \nORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.wl_home = 'W') OR (g.team_id_away = t.id AND g.wl_away = 'W') THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest percentage of international players?\nSQL: SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\nQuestion: Which team has the highest 3-point shooting percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest win percentage?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "San Antonio Spurs"
        ]
      ],
      "expected_result": [
        [
          "San Antonio Spurs"
        ]
      ]
    },
    {
      "question": "List all games where both teams scored over 120 points",
      "expected_sql": "SELECT g.game_id FROM game g WHERE g.pts_home > 120 AND g.pts_away > 120",
      "generated_sql": "SELECT g.game_id \nFROM game g \nWHERE g.pts_home > 120 AND g.pts_away > 120",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all games where both teams scored over 120 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 120 AND g.pts_away > 120\nSample results (3 of 2596 rows):\n  ('0024900095',)\n  ('0025500075',)\n  ('0025500238',)\n\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: List all games where both teams scored over 110 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 110 AND g.pts_away > 110\nSample results (3 of 10358 rows):\n  ('0024800300',)\n  ('0024900096',)\n  ('0024900095',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all games where both teams scored over 120 points",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "0024900095"
        ],
        [
          "0025500075"
        ],
        [
          "0025500238"
        ],
        [
          "0025500279"
        ]
      ],
      "expected_result": [
        [
          "0024900095"
        ],
        [
          "0025500075"
        ],
        [
          "0025500238"
        ],
        [
          "0025500279"
        ]
      ]
    },
    {
      "question": "What's the average attendance for Lakers home games?",
      "expected_sql": "SELECT AVG(gi.attendance) as avg_attendance FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE t.nickname = 'Lakers'",
      "generated_sql": "SELECT AVG(gi.attendance) as avg_attendance \nFROM game g \nJOIN team t ON g.team_id_home = t.id \nJOIN game_info gi ON g.game_id = gi.game_id \nWHERE t.nickname = 'Lakers'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average attendance for Lakers home games?\nSQL: SELECT AVG(gi.attendance) as avg_attendance FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE t.nickname = 'Lakers'\nSample results (1 of 1 rows):\n  (16184.730632235085,)\n\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\nQuestion: Which team has the highest average attendance?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY t.id, t.full_name ORDER BY AVG(gi.attendance) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average attendance for Lakers home games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          16184.730632235085
        ]
      ],
      "expected_result": [
        [
          16184.730632235085
        ]
      ]
    },
    {
      "question": "List all players from Serbia",
      "expected_sql": "SELECT first_name, last_name FROM common_player_info WHERE country = 'Serbia'",
      "generated_sql": "SELECT first_name, last_name FROM common_player_info WHERE country = 'Serbia'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all players from Serbia\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Serbia'\nSample results (3 of 21 rows):\n  ('Nemanja', 'Bjelica')\n  ('Bogdan', 'Bogdanovic')\n  ('Rastko', 'Cvetkovic')\n\n\nQuestion: List all rookie players\nSQL: SELECT first_name, last_name FROM common_player_info WHERE season_exp = 0\nSample results (3 of 5 rows):\n  ('Ibou', 'Badji')\n  ('Collin', 'Gillespie')\n  ('Chet', 'Holmgren')\n\n\nQuestion: List all players from Spain\nSQL: SELECT first_name, last_name FROM common_player_info WHERE country = 'Spain'\nSample results (3 of 11 rows):\n  ('Alex', 'Abrines')\n  ('Santi', 'Aldama')\n  ('Jose', 'Calderon')\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all players from Serbia",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Nemanja",
          "Bjelica"
        ],
        [
          "Bogdan",
          "Bogdanovic"
        ],
        [
          "Rastko",
          "Cvetkovic"
        ],
        [
          "Vlade",
          "Divac"
        ]
      ],
      "expected_result": [
        [
          "Nemanja",
          "Bjelica"
        ],
        [
          "Bogdan",
          "Bogdanovic"
        ],
        [
          "Rastko",
          "Cvetkovic"
        ],
        [
          "Vlade",
          "Divac"
        ]
      ]
    },
    {
      "question": "How many games were played in 2019?",
      "expected_sql": "SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'",
      "generated_sql": "SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\nQuestion: What's the total number of games played?\nSQL: SELECT COUNT(DISTINCT game_id) as total_games FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (65642,)\n\n\nQuestion: How many games are played on Christmas Day?\nSQL: SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1\nSample results (1 of 1 rows):\n  (207,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games were played in 2019?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          1161
        ]
      ],
      "expected_result": [
        [
          1161
        ]
      ]
    },
    {
      "question": "What is the arena capacity for the Warriors?",
      "expected_sql": "SELECT td.arenacapacity FROM team t JOIN team_details td ON t.id = td.team_id WHERE t.nickname = 'Warriors'",
      "generated_sql": "SELECT td.arenacapacity \nFROM team t \nJOIN team_details td ON t.id = td.team_id \nWHERE t.nickname = 'Warriors'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What is the arena capacity for the Warriors?\nSQL: SELECT td.arenacapacity FROM team t JOIN team_details td ON t.id = td.team_id WHERE t.nickname = 'Warriors'\nSample results (1 of 1 rows):\n  (None,)\n\n\nQuestion: Which team has the newest arena?\nSQL: SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id ORDER BY td.arena DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Philadelphia 76ers',)\n\n\nQuestion: How many points did the Warriors score in the paint in their home games?\nSQL: SELECT SUM(os.pts_paint_home) as total_paint_points FROM game g JOIN team t ON g.team_id_home = t.id JOIN other_stats os ON g.game_id = os.game_id WHERE t.nickname = 'Warriors'\nSample results (1 of 1 rows):\n  (42200,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat is the arena capacity for the Warriors?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          null
        ]
      ],
      "expected_result": [
        [
          null
        ]
      ]
    },
    {
      "question": "Who is the player that was inactive the most times for the Celtics?",
      "expected_sql": "SELECT ip.first_name || ' ' || ip.last_name as player_name FROM inactive_players ip JOIN team t ON ip.team_id = t.id WHERE t.nickname = 'Celtics' GROUP BY ip.player_id, ip.first_name, ip.last_name ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT ip.first_name || ' ' || ip.last_name as player_name \nFROM inactive_players ip \nJOIN team t ON ip.team_id = t.id \nWHERE t.nickname = 'Celtics' \nGROUP BY ip.player_id, ip.first_name, ip.last_name \nORDER BY COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Who is the player that was inactive the most times for the Celtics?\nSQL: SELECT ip.first_name || ' ' || ip.last_name as player_name FROM inactive_players ip JOIN team t ON ip.team_id = t.id WHERE t.nickname = 'Celtics' GROUP BY ip.player_id, ip.first_name, ip.last_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Robert Williams III',)\n\n\nQuestion: How many players have played for both the Lakers and Celtics?\nSQL: WITH team_players AS (SELECT DISTINCT cpi.person_id FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id WHERE t.nickname IN ('Lakers', 'Celtics')) SELECT COUNT(*) as players_count FROM (SELECT person_id FROM team_players GROUP BY person_id HAVING COUNT(*) = 2) x LIMIT 1\nSample results (1 of 1 rows):\n  (0,)\n\n\nQuestion: Who is the player with the longest name?\nSQL: SELECT first_name || ' ' || last_name as full_name FROM common_player_info ORDER BY LENGTH(first_name || ' ' || last_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Kentavious Caldwell-Pope',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWho is the player that was inactive the most times for the Celtics?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Robert Williams III"
        ]
      ],
      "expected_result": [
        [
          "Robert Williams III"
        ]
      ]
    },
    {
      "question": "How many points did the Warriors score in the paint in their home games?",
      "expected_sql": "SELECT SUM(os.pts_paint_home) as total_paint_points FROM game g JOIN team t ON g.team_id_home = t.id JOIN other_stats os ON g.game_id = os.game_id WHERE t.nickname = 'Warriors'",
      "generated_sql": "SELECT SUM(os.pts_paint_home) as total_paint_points \nFROM game g \nJOIN team t ON g.team_id_home = t.id \nJOIN other_stats os ON g.game_id = os.game_id \nWHERE t.nickname = 'Warriors'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many points did the Warriors score in the paint in their home games?\nSQL: SELECT SUM(os.pts_paint_home) as total_paint_points FROM game g JOIN team t ON g.team_id_home = t.id JOIN other_stats os ON g.game_id = os.game_id WHERE t.nickname = 'Warriors'\nSample results (1 of 1 rows):\n  (42200,)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many points did the Warriors score in the paint in their home games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          42200
        ]
      ],
      "expected_result": [
        [
          42200
        ]
      ]
    },
    {
      "question": "List all games that went to overtime",
      "expected_sql": "SELECT g.game_id FROM game g JOIN line_score ls ON g.game_id = ls.game_id WHERE ls.pts_ot1_home IS NOT NULL",
      "generated_sql": "SELECT g.game_id, g.game_date, g.team_name_home, g.team_name_away, g.pts_home, g.pts_away\nFROM game g \nJOIN line_score ls ON g.game_id = ls.game_id \nWHERE ls.pts_ot1_home IS NOT NULL\nORDER BY g.game_date DESC",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: List all games that went to overtime\nSQL: SELECT g.game_id FROM game g JOIN line_score ls ON g.game_id = ls.game_id WHERE ls.pts_ot1_home IS NOT NULL\nSample results (3 of 32390 rows):\n  ('0024600001',)\n  ('0024600024',)\n  ('0024600026',)\n\n\nQuestion: How many games went to overtime?\nSQL: SELECT COUNT(*) as ot_games FROM line_score WHERE pts_ot1_home IS NOT NULL LIMIT 1\nSample results (1 of 1 rows):\n  (32294,)\n\n\nQuestion: What's the most common final score in overtime games?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot1_home IS NOT NULL GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-98.0',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nList all games that went to overtime",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          "0042200405",
          "2023-06-12 00:00:00",
          "Denver Nuggets",
          "Miami Heat",
          94.0,
          89.0
        ],
        [
          "0042200404",
          "2023-06-09 00:00:00",
          "Miami Heat",
          "Denver Nuggets",
          95.0,
          108.0
        ],
        [
          "0042200403",
          "2023-06-07 00:00:00",
          "Miami Heat",
          "Denver Nuggets",
          94.0,
          109.0
        ],
        [
          "0042200402",
          "2023-06-04 00:00:00",
          "Denver Nuggets",
          "Miami Heat",
          108.0,
          111.0
        ]
      ],
      "expected_result": [
        [
          "0024600001"
        ],
        [
          "0024600024"
        ],
        [
          "0024600026"
        ],
        [
          "0024600042"
        ]
      ]
    },
    {
      "question": "Which team had the most nationally televised games?",
      "expected_sql": "SELECT t.full_name FROM game_summary gs JOIN team t ON gs.home_team_id = t.id OR gs.visitor_team_id = t.id WHERE gs.natl_tv_broadcaster_abbreviation IS NOT NULL GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game_summary gs \nJOIN team t ON gs.home_team_id = t.id OR gs.visitor_team_id = t.id \nWHERE gs.natl_tv_broadcaster_abbreviation IS NOT NULL \n  AND gs.natl_tv_broadcaster_abbreviation != ''\nGROUP BY t.id, t.full_name \nORDER BY COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team had the most nationally televised games?\nSQL: SELECT t.full_name FROM game_summary gs JOIN team t ON gs.home_team_id = t.id OR gs.visitor_team_id = t.id WHERE gs.natl_tv_broadcaster_abbreviation IS NOT NULL GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the most games with 50+ rebounds?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.reb_home >= 50) OR (g.team_id_away = t.id AND g.reb_away >= 50) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team had the most nationally televised games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "Which team scored the most fast break points?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away JOIN other_stats os ON g.game_id = os.game_id GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN os.pts_fb_home ELSE os.pts_fb_away END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away \nJOIN other_stats os ON g.game_id = os.game_id \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN os.pts_fb_home ELSE os.pts_fb_away END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team scored the most fast break points?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away JOIN other_stats os ON g.game_id = os.game_id GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN g.team_id_home = t.id THEN os.pts_fb_home ELSE os.pts_fb_away END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Golden State Warriors',)\n\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team scored the most fast break points?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Golden State Warriors"
        ]
      ],
      "expected_result": [
        [
          "Golden State Warriors"
        ]
      ]
    },
    {
      "question": "Which team has the best record in close games (margin \u2264 5 points)?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) WHERE ABS(g.pts_home - g.pts_away) <= 5 GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nWHERE ABS(g.pts_home - g.pts_away) <= 5 \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 100 \nORDER BY CAST(SUM(CASE \n                WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR \n                     (g.team_id_away = t.id AND g.pts_away > g.pts_home) \n                THEN 1 \n                ELSE 0 \n            END) AS FLOAT) / COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the best record in close games (margin \u2264 5 points)?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) WHERE ABS(g.pts_home - g.pts_away) <= 5 GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the best record on Christmas Day?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) JOIN game_info gi ON g.game_id = gi.game_id WHERE strftime('%m-%d', gi.game_date) = '12-25' GROUP BY t.id, t.full_name HAVING COUNT(*) >= 5 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Miami Heat',)\n\n\nQuestion: What's the average margin of victory in playoff games?\nSQL: SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (10.93,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the best record in close games (margin \u2264 5 points)?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "Who is the player with the longest name?",
      "expected_sql": "SELECT first_name || ' ' || last_name as full_name FROM common_player_info ORDER BY LENGTH(first_name || ' ' || last_name) DESC LIMIT 1",
      "generated_sql": "SELECT full_name FROM player ORDER BY LENGTH(full_name) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Who is the player with the longest name?\nSQL: SELECT first_name || ' ' || last_name as full_name FROM common_player_info ORDER BY LENGTH(first_name || ' ' || last_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Kentavious Caldwell-Pope',)\n\n\nQuestion: Which team has the longest name?\nSQL: SELECT full_name FROM team ORDER BY LENGTH(full_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Minnesota Timberwolves',)\n\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWho is the player with the longest name?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          "Nickeil Alexander-Walker"
        ]
      ],
      "expected_result": [
        [
          "Kentavious Caldwell-Pope"
        ]
      ]
    },
    {
      "question": "What's the average margin of victory in playoff games?",
      "expected_sql": "SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'",
      "generated_sql": "SELECT ROUND(AVG(ABS(pts_home - pts_away)), 2) as avg_margin \nFROM game \nWHERE season_type = 'Playoffs'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average margin of victory in playoff games?\nSQL: SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (10.93,)\n\n\nQuestion: What's the most common margin of victory?\nSQL: SELECT ABS(pts_home - pts_away) as margin FROM game GROUP BY margin ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  (5.0,)\n\n\nQuestion: What's the average number of personal fouls in playoff games?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (47.52,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average margin of victory in playoff games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          10.93
        ]
      ],
      "expected_result": [
        [
          10.93
        ]
      ]
    },
    {
      "question": "Which team has the most different players on their all-time roster?",
      "expected_sql": "SELECT t.full_name FROM team t JOIN common_player_info cpi ON t.id = cpi.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT cpi.person_id) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM team t \nJOIN common_player_info cpi ON t.id = cpi.team_id \nGROUP BY t.id, t.full_name \nORDER BY COUNT(DISTINCT cpi.person_id) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most different players on their all-time roster?\nSQL: SELECT t.full_name FROM team t JOIN common_player_info cpi ON t.id = cpi.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT cpi.person_id) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Golden State Warriors',)\n\n\nQuestion: Which team has had the most different home arenas?\nSQL: SELECT t.full_name FROM team t JOIN team_details td ON t.id = td.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT td.arena) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Atlanta Hawks',)\n\n\nQuestion: What's the average game time in hours?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(game_time, 1, INSTR(game_time, ':') - 1) AS INTEGER)), 2) as avg_hours FROM game_info WHERE game_time != '' LIMIT 1\nSample results (1 of 1 rows):\n  (1.99,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most different players on their all-time roster?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Golden State Warriors"
        ]
      ],
      "expected_result": [
        [
          "Golden State Warriors"
        ]
      ]
    },
    {
      "question": "What's the most common final score?",
      "expected_sql": "SELECT g.pts_home || '-' || g.pts_away as score FROM game g GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT g.pts_home || '-' || g.pts_away as score FROM game g GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common final score?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-99.0',)\n\n\nQuestion: What's the most common final score in overtime games?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot1_home IS NOT NULL GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-98.0',)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common final score?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "105.0-99.0"
        ]
      ],
      "expected_result": [
        [
          "105.0-99.0"
        ]
      ]
    },
    {
      "question": "Which team has the best record on Christmas Day?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) JOIN game_info gi ON g.game_id = gi.game_id WHERE strftime('%m-%d', gi.game_date) = '12-25' GROUP BY t.id, t.full_name HAVING COUNT(*) >= 5 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nJOIN game_info gi ON g.game_id = gi.game_id \nWHERE strftime('%m-%d', gi.game_date) = '12-25' \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 5 \nORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the best record on Christmas Day?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) JOIN game_info gi ON g.game_id = gi.game_id WHERE strftime('%m-%d', gi.game_date) = '12-25' GROUP BY t.id, t.full_name HAVING COUNT(*) >= 5 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Miami Heat',)\n\n\nQuestion: How many games are played on Christmas Day?\nSQL: SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1\nSample results (1 of 1 rows):\n  (207,)\n\n\nQuestion: Which team has the best record in close games (margin \u2264 5 points)?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) WHERE ABS(g.pts_home - g.pts_away) <= 5 GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the best record on Christmas Day?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Miami Heat"
        ]
      ],
      "expected_result": [
        [
          "Miami Heat"
        ]
      ]
    },
    {
      "question": "What's the win percentage difference between teams with 3+ rest days vs fewer rest days?",
      "expected_sql": "WITH rest_days AS (SELECT g.game_id, t.id, t.full_name, JULIANDAY(g.game_date) - JULIANDAY(LAG(g.game_date) OVER (PARTITION BY t.id ORDER BY g.game_date)) as days_rest, CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END as won FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away)) SELECT ROUND(AVG(CASE WHEN days_rest >= 3 THEN won END) * 100, 2) - ROUND(AVG(CASE WHEN days_rest < 3 THEN won END) * 100, 2) as win_pct_diff FROM rest_days WHERE days_rest IS NOT NULL",
      "generated_sql": "WITH rest_days AS (\n  SELECT \n    g.game_id, \n    t.id, \n    t.full_name, \n    JULIANDAY(g.game_date) - JULIANDAY(LAG(g.game_date) OVER (PARTITION BY t.id ORDER BY g.game_date)) as days_rest, \n    CASE \n      WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR \n           (g.team_id_away = t.id AND g.pts_away > g.pts_home) \n      THEN 1 \n      ELSE 0 \n    END as won \n  FROM game g \n  JOIN team t ON t.id IN (g.team_id_home, g.team_id_away)\n) \nSELECT \n  ROUND(AVG(CASE WHEN days_rest >= 3 THEN won END) * 100, 2) - \n  ROUND(AVG(CASE WHEN days_rest < 3 THEN won END) * 100, 2) as win_pct_diff \nFROM rest_days \nWHERE days_rest IS NOT NULL",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the win percentage difference between teams with 3+ rest days vs fewer rest days?\nSQL: WITH rest_days AS (SELECT g.game_id, t.id, t.full_name, JULIANDAY(g.game_date) - JULIANDAY(LAG(g.game_date) OVER (PARTITION BY t.id ORDER BY g.game_date)) as days_rest, CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END as won FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away)) SELECT ROUND(AVG(CASE WHEN days_rest >= 3 THEN won END) * 100, 2) - ROUND(AVG(CASE WHEN days_rest < 3 THEN won END) * 100, 2) as win_pct_diff FROM rest_days WHERE days_rest IS NOT NULL\nSample results (1 of 1 rows):\n  (3.0,)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the biggest home court advantage in terms of win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY (CAST(SUM(CASE WHEN g.team_id_home = t.id AND g.pts_home > g.pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_home = t.id THEN 1 END) * 100 - CAST(SUM(CASE WHEN g.team_id_away = t.id AND g.pts_away > g.pts_home THEN 1 ELSE 0 END) AS FLOAT) / COUNT(CASE WHEN g.team_id_away = t.id THEN 1 END) * 100) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Atlanta Hawks',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the win percentage difference between teams with 3+ rest days vs fewer rest days?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          3.0
        ]
      ],
      "expected_result": [
        [
          3.0
        ]
      ]
    },
    {
      "question": "How many players have played for both the Lakers and Celtics?",
      "expected_sql": "WITH team_players AS (SELECT DISTINCT cpi.person_id FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id WHERE t.nickname IN ('Lakers', 'Celtics')) SELECT COUNT(*) as players_count FROM (SELECT person_id FROM team_players GROUP BY person_id HAVING COUNT(*) = 2) x LIMIT 1",
      "generated_sql": "WITH lakers_players AS (\n    SELECT DISTINCT ip.player_id\n    FROM inactive_players ip\n    JOIN team t ON ip.team_id = t.id\n    WHERE t.nickname = 'Lakers'\n),\nceltics_players AS (\n    SELECT DISTINCT ip.player_id\n    FROM inactive_players ip\n    JOIN team t ON ip.team_id = t.id\n    WHERE t.nickname = 'Celtics'\n)\nSELECT COUNT(*) as players_count\nFROM lakers_players lp\nJOIN celtics_players cp ON lp.player_id = cp.player_id",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players have played for both the Lakers and Celtics?\nSQL: WITH team_players AS (SELECT DISTINCT cpi.person_id FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id WHERE t.nickname IN ('Lakers', 'Celtics')) SELECT COUNT(*) as players_count FROM (SELECT person_id FROM team_players GROUP BY person_id HAVING COUNT(*) = 2) x LIMIT 1\nSample results (1 of 1 rows):\n  (0,)\n\n\nQuestion: What's the average attendance for Lakers home games?\nSQL: SELECT AVG(gi.attendance) as avg_attendance FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE t.nickname = 'Lakers'\nSample results (1 of 1 rows):\n  (16184.730632235085,)\n\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players have played for both the Lakers and Celtics?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          10
        ]
      ],
      "expected_result": [
        [
          0
        ]
      ]
    },
    {
      "question": "How many games have gone to multiple overtimes?",
      "expected_sql": "SELECT COUNT(*) as multi_ot_games FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot2_home IS NOT NULL LIMIT 1",
      "generated_sql": "SELECT COUNT(*) as multi_ot_games \nFROM line_score \nWHERE pts_ot2_home IS NOT NULL",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games have gone to multiple overtimes?\nSQL: SELECT COUNT(*) as multi_ot_games FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot2_home IS NOT NULL LIMIT 1\nSample results (1 of 1 rows):\n  (31034,)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games have gone to multiple overtimes?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          31002
        ]
      ],
      "expected_result": [
        [
          31034
        ]
      ]
    },
    {
      "question": "What's the average game attendance?",
      "expected_sql": "SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1",
      "generated_sql": "SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\nQuestion: Which team has the highest average attendance?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY t.id, t.full_name ORDER BY AVG(gi.attendance) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\nQuestion: What's the average points per game?\nSQL: SELECT ROUND(AVG(pts_home + pts_away) / 2, 2) as avg_points FROM game LIMIT 1\nSample results (1 of 1 rows):\n  (102.81,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average game attendance?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          15108.0
        ]
      ],
      "expected_result": [
        [
          15108.0
        ]
      ]
    },
    {
      "question": "Which team has the highest percentage of games with 100+ points scored?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 100) OR (g.team_id_away = t.id AND g.pts_away >= 100) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 50 \nORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 100) OR (g.team_id_away = t.id AND g.pts_away >= 100) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest percentage of games with 100+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 100) OR (g.team_id_away = t.id AND g.pts_away >= 100) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Phoenix Suns',)\n\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest percentage of games with 100+ points scored?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Phoenix Suns"
        ]
      ],
      "expected_result": [
        [
          "Phoenix Suns"
        ]
      ]
    },
    {
      "question": "What's the largest point deficit in any game?",
      "expected_sql": "SELECT MAX(ABS(pts_home - pts_away)) as max_deficit FROM game",
      "generated_sql": "SELECT MAX(ABS(pts_home - pts_away)) as max_deficit FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the largest point deficit in any game?\nSQL: SELECT MAX(ABS(pts_home - pts_away)) as max_deficit FROM game\nSample results (1 of 1 rows):\n  (73.0,)\n\n\nQuestion: What's the average number of three-point attempts per game?\nSQL: SELECT ROUND(AVG(fg3a_home + fg3a_away), 2) as avg_3pa FROM game\nSample results (1 of 1 rows):\n  (35.52,)\n\n\nQuestion: Which team has the highest 3-point shooting percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the largest point deficit in any game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          73.0
        ]
      ],
      "expected_result": [
        [
          73.0
        ]
      ]
    },
    {
      "question": "What percentage of games are won by the home team?",
      "expected_sql": "SELECT ROUND(CAST(SUM(CASE WHEN pts_home > pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as home_win_pct FROM game",
      "generated_sql": "SELECT ROUND(CAST(SUM(CASE WHEN pts_home > pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as home_win_pct FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What percentage of games are won by the home team?\nSQL: SELECT ROUND(CAST(SUM(CASE WHEN pts_home > pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as home_win_pct FROM game\nSample results (1 of 1 rows):\n  (61.88,)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the highest field goal percentage in home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name HAVING COUNT(*) >= 20 ORDER BY CAST(SUM(g.fgm_home) AS FLOAT) / SUM(g.fga_home) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat percentage of games are won by the home team?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          61.88
        ]
      ],
      "expected_result": [
        [
          61.88
        ]
      ]
    },
    {
      "question": "Which team has the highest free throw percentage?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ftm_home ELSE g.ftm_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) >= 100 \nORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ftm_home ELSE g.ftm_away END) AS FLOAT) / \n         SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest free throw percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ftm_home ELSE g.ftm_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fta_home ELSE g.fta_away END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest percentage of international players?\nSQL: SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest free throw percentage?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Boston Celtics"
        ]
      ],
      "expected_result": [
        [
          "Boston Celtics"
        ]
      ]
    },
    {
      "question": "What's the average number of fouls per game?",
      "expected_sql": "SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game",
      "generated_sql": "SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\nQuestion: What's the average number of personal fouls in playoff games?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (47.52,)\n\n\nQuestion: What's the average number of rebounds per game?\nSQL: SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game\nSample results (1 of 1 rows):\n  (85.88,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of fouls per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          45.48
        ]
      ],
      "expected_result": [
        [
          45.48
        ]
      ]
    },
    {
      "question": "Which team has the highest 3-point shooting percentage?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 \nORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / \n         SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest 3-point shooting percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) >= 100 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3m_home ELSE g.fg3m_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN g.fg3a_home ELSE g.fg3a_away END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest percentage of international players?\nSQL: SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest 3-point shooting percentage?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "San Antonio Spurs"
        ]
      ],
      "expected_result": [
        [
          "San Antonio Spurs"
        ]
      ]
    },
    {
      "question": "What's the average number of rebounds per game?",
      "expected_sql": "SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game",
      "generated_sql": "SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of rebounds per game?\nSQL: SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game\nSample results (1 of 1 rows):\n  (85.88,)\n\n\nQuestion: What's the average number of steals per game?\nSQL: SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game\nSample results (1 of 1 rows):\n  (15.85,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of rebounds per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          85.88
        ]
      ],
      "expected_result": [
        [
          85.88
        ]
      ]
    },
    {
      "question": "How many games were decided by a single possession (3 points or less)?",
      "expected_sql": "SELECT COUNT(*) FROM game WHERE ABS(pts_home - pts_away) <= 3",
      "generated_sql": "SELECT COUNT(*) FROM game WHERE ABS(pts_home - pts_away) <= 3",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games were decided by a single possession (3 points or less)?\nSQL: SELECT COUNT(*) FROM game WHERE ABS(pts_home - pts_away) <= 3\nSample results (1 of 1 rows):\n  (11067,)\n\n\nQuestion: What percentage of games are decided by 5 points or less?\nSQL: SELECT ROUND(CAST(SUM(CASE WHEN ABS(pts_home - pts_away) <= 5 THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as close_game_pct FROM game\nSample results (1 of 1 rows):\n  (29.2,)\n\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games were decided by a single possession (3 points or less)?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          11067
        ]
      ],
      "expected_result": [
        [
          11067
        ]
      ]
    },
    {
      "question": "How many players were drafted in the first round in 2019?",
      "expected_sql": "SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1",
      "generated_sql": "SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players were drafted in the first round in 2019?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: How many players were drafted in the second round in 2017?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2017' AND round_number = 2\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: How many players were drafted in 2020?\nSQL: SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1\nSample results (1 of 1 rows):\n  (60,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players were drafted in the first round in 2019?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          30
        ]
      ],
      "expected_result": [
        [
          30
        ]
      ]
    },
    {
      "question": "Which team has the highest average attendance?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY t.id, t.full_name ORDER BY AVG(gi.attendance) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON g.team_id_home = t.id \nJOIN game_info gi ON g.game_id = gi.game_id \nWHERE gi.attendance > 0 \nGROUP BY t.id, t.full_name \nORDER BY AVG(gi.attendance) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest average attendance?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY t.id, t.full_name ORDER BY AVG(gi.attendance) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\nQuestion: What's the average game attendance?\nSQL: SELECT ROUND(AVG(attendance), 0) as avg_attendance FROM game_info WHERE attendance > 0 LIMIT 1\nSample results (1 of 1 rows):\n  (15108.0,)\n\n\nQuestion: Which season type has the highest average attendance?\nSQL: SELECT g.season_type, ROUND(AVG(gi.attendance), 0) as avg_attendance FROM game g JOIN game_info gi ON g.game_id = gi.game_id WHERE gi.attendance > 0 GROUP BY g.season_type ORDER BY avg_attendance DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('All-Star', 24658.0)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest average attendance?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Toronto Raptors"
        ]
      ],
      "expected_result": [
        [
          "Toronto Raptors"
        ]
      ]
    },
    {
      "question": "What's the most common final score in overtime games?",
      "expected_sql": "SELECT g.pts_home || '-' || g.pts_away as score FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot1_home IS NOT NULL GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT g.pts_home || '-' || g.pts_away as score \nFROM game g \nJOIN line_score l ON g.game_id = l.game_id \nWHERE l.pts_ot1_home IS NOT NULL AND l.pts_ot1_home != 0\nGROUP BY g.pts_home, g.pts_away \nORDER BY COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common final score in overtime games?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g JOIN line_score l ON g.game_id = l.game_id WHERE l.pts_ot1_home IS NOT NULL GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-98.0',)\n\n\nQuestion: What's the most common final score?\nSQL: SELECT g.pts_home || '-' || g.pts_away as score FROM game g GROUP BY g.pts_home, g.pts_away ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('105.0-99.0',)\n\n\nQuestion: How many games went to overtime?\nSQL: SELECT COUNT(*) as ot_games FROM line_score WHERE pts_ot1_home IS NOT NULL LIMIT 1\nSample results (1 of 1 rows):\n  (32294,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common final score in overtime games?",
      "result_match": false,
      "success": false,
      "generated_result": [
        [
          "112.0-114.0"
        ]
      ],
      "expected_result": [
        [
          "105.0-98.0"
        ]
      ]
    },
    {
      "question": "How many players are from Kentucky?",
      "expected_sql": "SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'",
      "generated_sql": "SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players are from Kentucky?\nSQL: SELECT COUNT(*) FROM draft_history WHERE organization = 'Kentucky'\nSample results (1 of 1 rows):\n  (141,)\n\n\nQuestion: How many players are guards?\nSQL: SELECT COUNT(*) as guard_count FROM common_player_info WHERE position LIKE '%G%' LIMIT 1\nSample results (1 of 1 rows):\n  (1604,)\n\n\nQuestion: How many active players are there?\nSQL: SELECT COUNT(*) as active_players FROM player WHERE is_active = 1\nSample results (1 of 1 rows):\n  (535,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players are from Kentucky?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          141
        ]
      ],
      "expected_result": [
        [
          141
        ]
      ]
    },
    {
      "question": "Which team has the most assists per game?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most assists per game?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Charlotte Hornets',)\n\n\nQuestion: Which team has the most games with 30+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 30) OR (g.team_id_away = t.id AND g.ast_away >= 30) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the most games with 20+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 20) OR (g.team_id_away = t.id AND g.ast_away >= 20) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most assists per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Charlotte Hornets"
        ]
      ],
      "expected_result": [
        [
          "Charlotte Hornets"
        ]
      ]
    },
    {
      "question": "What's the average height of centers?",
      "expected_sql": "SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE position LIKE '%C%' AND height != ''",
      "generated_sql": "SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE position LIKE '%C%' AND height != ''",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average height of centers?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE position LIKE '%C%' AND height != ''\nSample results (1 of 1 rows):\n  (6.31,)\n\n\nQuestion: What's the average height of NBA players?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(height, 1, INSTR(height, '-')-1) AS FLOAT)), 2) as avg_height FROM common_player_info WHERE height != '' LIMIT 1\nSample results (1 of 1 rows):\n  (6.03,)\n\n\nQuestion: What's the most common player height?\nSQL: SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('6-5',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average height of centers?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          6.31
        ]
      ],
      "expected_result": [
        [
          6.31
        ]
      ]
    },
    {
      "question": "Which team has the most playoff appearances?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) WHERE g.season_type = 'Playoffs' GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT SUBSTR(g.season_id, 1, 4)) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nWHERE g.season_type = 'Playoffs' \nGROUP BY t.id, t.full_name \nORDER BY COUNT(DISTINCT SUBSTR(g.season_id, 1, 4)) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most playoff appearances?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) WHERE g.season_type = 'Playoffs' GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT SUBSTR(g.season_id, 1, 4)) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Atlanta Hawks',)\n\n\nQuestion: What's the average margin of victory in playoff games?\nSQL: SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (10.93,)\n\n\nQuestion: What's the average number of personal fouls in playoff games?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (47.52,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most playoff appearances?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Atlanta Hawks"
        ]
      ],
      "expected_result": [
        [
          "Atlanta Hawks"
        ]
      ]
    },
    {
      "question": "What's the most common player height?",
      "expected_sql": "SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common player height?\nSQL: SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('6-5',)\n\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\nQuestion: What's the most common player weight?\nSQL: SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('190',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common player height?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "6-5"
        ]
      ],
      "expected_result": [
        [
          "6-5"
        ]
      ]
    },
    {
      "question": "How many games were played on New Year's Day?",
      "expected_sql": "SELECT COUNT(*) FROM game_info WHERE strftime('%m-%d', game_date) = '01-01'",
      "generated_sql": "SELECT COUNT(*) FROM game_info WHERE strftime('%m-%d', game_date) = '01-01'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games were played on New Year's Day?\nSQL: SELECT COUNT(*) FROM game_info WHERE strftime('%m-%d', game_date) = '01-01'\nSample results (1 of 1 rows):\n  (159,)\n\n\nQuestion: How many games are played on Christmas Day?\nSQL: SELECT COUNT(*) as christmas_games FROM game_info WHERE strftime('%m-%d', game_date) = '12-25' LIMIT 1\nSample results (1 of 1 rows):\n  (207,)\n\n\nQuestion: How many games were played in 2019?\nSQL: SELECT COUNT(DISTINCT game_id) as games_played FROM game_info WHERE strftime('%Y', game_date) = '2019'\nSample results (1 of 1 rows):\n  (1161,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games were played on New Year's Day?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          159
        ]
      ],
      "expected_result": [
        [
          159
        ]
      ]
    },
    {
      "question": "Which team has the highest percentage of games with 10+ steals?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.stl_home >= 10) OR (g.team_id_away = t.id AND g.stl_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 50 \nORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.stl_home >= 10) OR (g.team_id_away = t.id AND g.stl_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest percentage of games with 10+ steals?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.stl_home >= 10) OR (g.team_id_away = t.id AND g.stl_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Memphis Grizzlies',)\n\n\nQuestion: Which team has the highest percentage of games with 10+ blocks?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.blk_home >= 10) OR (g.team_id_away = t.id AND g.blk_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest percentage of games with 10+ steals?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Memphis Grizzlies"
        ]
      ],
      "expected_result": [
        [
          "Memphis Grizzlies"
        ]
      ]
    },
    {
      "question": "What's the average number of blocks per game?",
      "expected_sql": "SELECT ROUND(AVG(blk_home + blk_away), 2) as avg_blocks FROM game",
      "generated_sql": "SELECT ROUND(AVG(blk_home + blk_away), 2) as avg_blocks FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of blocks per game?\nSQL: SELECT ROUND(AVG(blk_home + blk_away), 2) as avg_blocks FROM game\nSample results (1 of 1 rows):\n  (10.0,)\n\n\nQuestion: What's the average number of steals per game?\nSQL: SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game\nSample results (1 of 1 rows):\n  (15.85,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of blocks per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          10.0
        ]
      ],
      "expected_result": [
        [
          10.0
        ]
      ]
    },
    {
      "question": "Which team has the most games with 20+ assists?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 20) OR (g.team_id_away = t.id AND g.ast_away >= 20) THEN 1 ELSE 0 END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 20) OR (g.team_id_away = t.id AND g.ast_away >= 20) THEN 1 ELSE 0 END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most games with 20+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 20) OR (g.team_id_away = t.id AND g.ast_away >= 20) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the most assists per game?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Charlotte Hornets',)\n\n\nQuestion: Which team has the most games with 30+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 30) OR (g.team_id_away = t.id AND g.ast_away >= 30) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most games with 20+ assists?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "Which team has the lowest turnover rate?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.tov_home ELSE g.tov_away END) AS FLOAT) / COUNT(*) ASC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 50 \nORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.tov_home ELSE g.tov_away END) AS FLOAT) / COUNT(*) ASC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the lowest turnover rate?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.tov_home ELSE g.tov_away END) AS FLOAT) / COUNT(*) ASC LIMIT 1\nSample results (1 of 1 rows):\n  ('Detroit Pistons',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the longest name?\nSQL: SELECT full_name FROM team ORDER BY LENGTH(full_name) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Minnesota Timberwolves',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the lowest turnover rate?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Detroit Pistons"
        ]
      ],
      "expected_result": [
        [
          "Detroit Pistons"
        ]
      ]
    },
    {
      "question": "What's the average weight of power forwards?",
      "expected_sql": "SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE position LIKE '%F%' AND weight != ''",
      "generated_sql": "SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE position LIKE '%F%' AND weight != ''",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average weight of power forwards?\nSQL: SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE position LIKE '%F%' AND weight != ''\nSample results (1 of 1 rows):\n  (220.04,)\n\n\nQuestion: What's the average weight of NBA players?\nSQL: SELECT ROUND(AVG(CAST(weight AS FLOAT)), 2) as avg_weight FROM common_player_info WHERE weight != '' LIMIT 1\nSample results (1 of 1 rows):\n  (211.2,)\n\n\nQuestion: What's the most common player weight?\nSQL: SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('190',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average weight of power forwards?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          220.04
        ]
      ],
      "expected_result": [
        [
          220.04
        ]
      ]
    },
    {
      "question": "Which team has the most games with 15+ three-pointers made?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.fg3m_home >= 15) OR (g.team_id_away = t.id AND g.fg3m_away >= 15) THEN 1 ELSE 0 END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.fg3m_home >= 15) OR (g.team_id_away = t.id AND g.fg3m_away >= 15) THEN 1 ELSE 0 END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most games with 15+ three-pointers made?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.fg3m_home >= 15) OR (g.team_id_away = t.id AND g.fg3m_away >= 15) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Houston Rockets',)\n\n\nQuestion: List all games with more than 15 lead changes\nSQL: SELECT g.game_id FROM game g JOIN other_stats os ON g.game_id = os.game_id WHERE os.lead_changes > 15\nSample results (3 of 1762 rows):\n  ('0029600006',)\n  ('0029600048',)\n  ('0029600065',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most games with 15+ three-pointers made?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Houston Rockets"
        ]
      ],
      "expected_result": [
        [
          "Houston Rockets"
        ]
      ]
    },
    {
      "question": "What's the most common margin of victory?",
      "expected_sql": "SELECT ABS(pts_home - pts_away) as margin FROM game GROUP BY margin ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT ABS(pts_home - pts_away) as margin FROM game GROUP BY margin ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common margin of victory?\nSQL: SELECT ABS(pts_home - pts_away) as margin FROM game GROUP BY margin ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  (5.0,)\n\n\nQuestion: What's the average margin of victory in playoff games?\nSQL: SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (10.93,)\n\n\nQuestion: What's the most common first name among NBA players?\nSQL: SELECT first_name FROM player GROUP BY first_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('John',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common margin of victory?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          5.0
        ]
      ],
      "expected_result": [
        [
          5.0
        ]
      ]
    },
    {
      "question": "How many players have jersey numbers greater than 50?",
      "expected_sql": "SELECT COUNT(*) FROM common_player_info WHERE CAST(jersey AS INTEGER) > 50 AND jersey != ''",
      "generated_sql": "SELECT COUNT(*) FROM common_player_info WHERE CAST(jersey AS INTEGER) > 50 AND jersey != ''",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players have jersey numbers greater than 50?\nSQL: SELECT COUNT(*) FROM common_player_info WHERE CAST(jersey AS INTEGER) > 50 AND jersey != ''\nSample results (1 of 1 rows):\n  (139,)\n\n\nQuestion: What's the most common jersey number?\nSQL: SELECT jersey FROM common_player_info WHERE jersey != '' GROUP BY jersey ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('12',)\n\n\nQuestion: Which team has the most games with 50+ rebounds?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.reb_home >= 50) OR (g.team_id_away = t.id AND g.reb_away >= 50) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players have jersey numbers greater than 50?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          139
        ]
      ],
      "expected_result": [
        [
          139
        ]
      ]
    },
    {
      "question": "Which team has the highest offensive rebound percentage?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.oreb_home ELSE g.oreb_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN (g.oreb_home + g.dreb_away) ELSE (g.oreb_away + g.dreb_home) END) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 50 \nORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.oreb_home ELSE g.oreb_away END) AS FLOAT) / \n         SUM(CASE WHEN g.team_id_home = t.id THEN (g.oreb_home + g.dreb_away) ELSE (g.oreb_away + g.dreb_home) END) * 100 DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest offensive rebound percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.oreb_home ELSE g.oreb_away END) AS FLOAT) / SUM(CASE WHEN g.team_id_home = t.id THEN (g.oreb_home + g.dreb_away) ELSE (g.oreb_away + g.dreb_home) END) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Oklahoma City Thunder',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest percentage of international players?\nSQL: SELECT t.full_name FROM common_player_info cpi JOIN team t ON cpi.team_id = t.id GROUP BY cpi.team_id, t.full_name HAVING COUNT(*) >= 10 ORDER BY CAST(SUM(CASE WHEN cpi.country != 'USA' THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Toronto Raptors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest offensive rebound percentage?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Oklahoma City Thunder"
        ]
      ],
      "expected_result": [
        [
          "Oklahoma City Thunder"
        ]
      ]
    },
    {
      "question": "What's the average number of three-point attempts per game?",
      "expected_sql": "SELECT ROUND(AVG(fg3a_home + fg3a_away), 2) as avg_3pa FROM game",
      "generated_sql": "SELECT ROUND(AVG(fg3a_home + fg3a_away), 2) as avg_3pa FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of three-point attempts per game?\nSQL: SELECT ROUND(AVG(fg3a_home + fg3a_away), 2) as avg_3pa FROM game\nSample results (1 of 1 rows):\n  (35.52,)\n\n\nQuestion: What's the average number of steals per game?\nSQL: SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game\nSample results (1 of 1 rows):\n  (15.85,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of three-point attempts per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          35.52
        ]
      ],
      "expected_result": [
        [
          35.52
        ]
      ]
    },
    {
      "question": "Which team has the most games with 50+ rebounds?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.reb_home >= 50) OR (g.team_id_away = t.id AND g.reb_away >= 50) THEN 1 ELSE 0 END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.reb_home >= 50) OR (g.team_id_away = t.id AND g.reb_away >= 50) THEN 1 ELSE 0 END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most games with 50+ rebounds?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.reb_home >= 50) OR (g.team_id_away = t.id AND g.reb_away >= 50) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: What's the average number of rebounds per game?\nSQL: SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game\nSample results (1 of 1 rows):\n  (85.88,)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most games with 50+ rebounds?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "How many players were drafted in the second round in 2017?",
      "expected_sql": "SELECT COUNT(*) FROM draft_history WHERE season = '2017' AND round_number = 2",
      "generated_sql": "SELECT COUNT(*) FROM draft_history WHERE season = '2017' AND round_number = 2",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many players were drafted in the second round in 2017?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2017' AND round_number = 2\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: How many players were drafted in the first round in 2019?\nSQL: SELECT COUNT(*) FROM draft_history WHERE season = '2019' AND round_number = 1\nSample results (1 of 1 rows):\n  (30,)\n\n\nQuestion: How many players were drafted in 2020?\nSQL: SELECT COUNT(*) as draft_count FROM draft_history WHERE season = '2020' LIMIT 1\nSample results (1 of 1 rows):\n  (60,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many players were drafted in the second round in 2017?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          30
        ]
      ],
      "expected_result": [
        [
          30
        ]
      ]
    },
    {
      "question": "Which team has the highest field goal percentage in home games?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name HAVING COUNT(*) >= 20 ORDER BY CAST(SUM(g.fgm_home) AS FLOAT) / SUM(g.fga_home) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON g.team_id_home = t.id \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 20 \nORDER BY CAST(SUM(g.fgm_home) AS FLOAT) / SUM(g.fga_home) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest field goal percentage in home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name HAVING COUNT(*) >= 20 ORDER BY CAST(SUM(g.fgm_home) AS FLOAT) / SUM(g.fga_home) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: Which team has the most home games?\nSQL: SELECT t.full_name FROM game g JOIN team t ON g.team_id_home = t.id GROUP BY t.id, t.full_name ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Boston Celtics',)\n\n\nQuestion: What percentage of games are won by the home team?\nSQL: SELECT ROUND(CAST(SUM(CASE WHEN pts_home > pts_away THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as home_win_pct FROM game\nSample results (1 of 1 rows):\n  (61.88,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest field goal percentage in home games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Boston Celtics"
        ]
      ],
      "expected_result": [
        [
          "Boston Celtics"
        ]
      ]
    },
    {
      "question": "What's the average number of personal fouls in playoff games?",
      "expected_sql": "SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'",
      "generated_sql": "SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of personal fouls in playoff games?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game WHERE season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (47.52,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\nQuestion: What's the average margin of victory in playoff games?\nSQL: SELECT ROUND(AVG(ABS(g.pts_home - g.pts_away)), 2) as avg_margin FROM game g WHERE g.season_type = 'Playoffs'\nSample results (1 of 1 rows):\n  (10.93,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of personal fouls in playoff games?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          47.52
        ]
      ],
      "expected_result": [
        [
          47.52
        ]
      ]
    },
    {
      "question": "Which team has the most games with 30+ assists?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 30) OR (g.team_id_away = t.id AND g.ast_away >= 30) THEN 1 ELSE 0 END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 30) OR (g.team_id_away = t.id AND g.ast_away >= 30) THEN 1 ELSE 0 END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most games with 30+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 30) OR (g.team_id_away = t.id AND g.ast_away >= 30) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: Which team has the most assists per game?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY CAST(SUM(CASE WHEN g.team_id_home = t.id THEN g.ast_home ELSE g.ast_away END) AS FLOAT) / COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Charlotte Hornets',)\n\n\nQuestion: Which team has the most games with 20+ assists?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.ast_home >= 20) OR (g.team_id_away = t.id AND g.ast_away >= 20) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most games with 30+ assists?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "What's the most common player weight?",
      "expected_sql": "SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1",
      "generated_sql": "SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the most common player weight?\nSQL: SELECT weight FROM common_player_info WHERE weight != '' GROUP BY weight ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('190',)\n\n\nQuestion: What's the most common player position?\nSQL: SELECT position FROM common_player_info WHERE position IS NOT NULL GROUP BY position ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Guard',)\n\n\nQuestion: What's the most common player height?\nSQL: SELECT height FROM common_player_info WHERE height != '' GROUP BY height ORDER BY COUNT(*) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('6-5',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the most common player weight?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "190"
        ]
      ],
      "expected_result": [
        [
          "190"
        ]
      ]
    },
    {
      "question": "How many games started before 7 PM local time?",
      "expected_sql": "SELECT COUNT(*) FROM game_info WHERE CAST(SUBSTR(game_time, 1, 2) AS INTEGER) < 19",
      "generated_sql": "SELECT COUNT(*) FROM game_info WHERE CAST(SUBSTR(game_time, 1, 2) AS INTEGER) < 19",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: How many games started before 7 PM local time?\nSQL: SELECT COUNT(*) FROM game_info WHERE CAST(SUBSTR(game_time, 1, 2) AS INTEGER) < 19\nSample results (1 of 1 rows):\n  (58048,)\n\n\nQuestion: What's the average game time in hours?\nSQL: SELECT ROUND(AVG(CAST(SUBSTR(game_time, 1, INSTR(game_time, ':') - 1) AS INTEGER)), 2) as avg_hours FROM game_info WHERE game_time != '' LIMIT 1\nSample results (1 of 1 rows):\n  (1.99,)\n\n\nQuestion: Which team has the most different players on their all-time roster?\nSQL: SELECT t.full_name FROM team t JOIN common_player_info cpi ON t.id = cpi.team_id GROUP BY t.id, t.full_name ORDER BY COUNT(DISTINCT cpi.person_id) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Golden State Warriors',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nHow many games started before 7 PM local time?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          58048
        ]
      ],
      "expected_result": [
        [
          58048
        ]
      ]
    },
    {
      "question": "Which team has the highest percentage of games with 10+ blocks?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.blk_home >= 10) OR (g.team_id_away = t.id AND g.blk_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nHAVING COUNT(*) >= 50 \nORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.blk_home >= 10) OR (g.team_id_away = t.id AND g.blk_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the highest percentage of games with 10+ blocks?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.blk_home >= 10) OR (g.team_id_away = t.id AND g.blk_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\nQuestion: Which team has the highest percentage of games with 10+ steals?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.stl_home >= 10) OR (g.team_id_away = t.id AND g.stl_away >= 10) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Memphis Grizzlies',)\n\n\nQuestion: Which team has the highest win percentage?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id = g.team_id_home OR t.id = g.team_id_away GROUP BY t.id, t.full_name HAVING COUNT(*) >= 100 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home > g.pts_away) OR (g.team_id_away = t.id AND g.pts_away > g.pts_home) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('San Antonio Spurs',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the highest percentage of games with 10+ blocks?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "San Antonio Spurs"
        ]
      ],
      "expected_result": [
        [
          "San Antonio Spurs"
        ]
      ]
    },
    {
      "question": "What's the average number of steals per game?",
      "expected_sql": "SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game",
      "generated_sql": "SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What's the average number of steals per game?\nSQL: SELECT ROUND(AVG(stl_home + stl_away), 2) as avg_steals FROM game\nSample results (1 of 1 rows):\n  (15.85,)\n\n\nQuestion: What's the average number of fouls per game?\nSQL: SELECT ROUND(AVG(pf_home + pf_away), 2) as avg_fouls FROM game\nSample results (1 of 1 rows):\n  (45.48,)\n\n\nQuestion: What's the average number of rebounds per game?\nSQL: SELECT ROUND(AVG(reb_home + reb_away), 2) as avg_rebounds FROM game\nSample results (1 of 1 rows):\n  (85.88,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat's the average number of steals per game?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          15.85
        ]
      ],
      "expected_result": [
        [
          15.85
        ]
      ]
    },
    {
      "question": "Which team has the most games with 120+ points scored?",
      "expected_sql": "SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1",
      "generated_sql": "SELECT t.full_name \nFROM game g \nJOIN team t ON t.id IN (g.team_id_home, g.team_id_away) \nGROUP BY t.id, t.full_name \nORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC \nLIMIT 1",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: Which team has the most games with 120+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name ORDER BY SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 120) OR (g.team_id_away = t.id AND g.pts_away >= 120) THEN 1 ELSE 0 END) DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Los Angeles Lakers',)\n\n\nQuestion: List all games where both teams scored over 120 points\nSQL: SELECT g.game_id FROM game g WHERE g.pts_home > 120 AND g.pts_away > 120\nSample results (3 of 2596 rows):\n  ('0024900095',)\n  ('0025500075',)\n  ('0025500238',)\n\n\nQuestion: What's the most points scored by the home team?\nSQL: SELECT pts_home FROM game ORDER BY pts_home DESC LIMIT 1\nSample results (1 of 1 rows):\n  (192.0,)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhich team has the most games with 120+ points scored?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          "Los Angeles Lakers"
        ]
      ],
      "expected_result": [
        [
          "Los Angeles Lakers"
        ]
      ]
    },
    {
      "question": "What percentage of games are decided by 5 points or less?",
      "expected_sql": "SELECT ROUND(CAST(SUM(CASE WHEN ABS(pts_home - pts_away) <= 5 THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as close_game_pct FROM game",
      "generated_sql": "SELECT ROUND(CAST(SUM(CASE WHEN ABS(pts_home - pts_away) <= 5 THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as close_game_pct FROM game",
      "prompt_used": "You are an expert SQL developer specializing in NBA basketball data analysis. Your task is to convert natural language questions into precise SQL queries that run against an NBA database.\n\n{DATABASE SCHEMA WITH METADATA:\n\nTable: game (65698 rows)\nColumns:\n  - season_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_name_home: TEXT\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - matchup_home: TEXT\n  - wl_home: TEXT\n  - min: INTEGER\n  - fgm_home: REAL\n  - fga_home: REAL\n  - fg_pct_home: REAL\n  - fg3m_home: REAL\n  - fg3a_home: REAL\n  - fg3_pct_home: REAL\n  - ftm_home: REAL\n  - fta_home: REAL\n  - ft_pct_home: REAL\n  - oreb_home: REAL\n  - dreb_home: REAL\n  - reb_home: REAL\n  - ast_home: REAL\n  - stl_home: REAL\n  - blk_home: REAL\n  - tov_home: REAL\n  - pf_home: REAL\n  - pts_home: REAL\n  - plus_minus_home: INTEGER\n  - video_available_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_name_away: TEXT\n  - matchup_away: TEXT\n  - wl_away: TEXT\n  - fgm_away: REAL\n  - fga_away: REAL\n  - fg_pct_away: REAL\n  - fg3m_away: REAL\n  - fg3a_away: REAL\n  - fg3_pct_away: REAL\n  - ftm_away: REAL\n  - fta_away: REAL\n  - ft_pct_away: REAL\n  - oreb_away: REAL\n  - dreb_away: REAL\n  - reb_away: REAL\n  - ast_away: REAL\n  - stl_away: REAL\n  - blk_away: REAL\n  - tov_away: REAL\n  - pf_away: REAL\n  - pts_away: REAL\n  - plus_minus_away: INTEGER\n  - video_available_away: INTEGER\n  - season_type: TEXT\n\nTable: game_summary (58110 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - game_status_id: INTEGER\n  - game_status_text: TEXT\n  - gamecode: TEXT\n  - home_team_id: TEXT\n  - visitor_team_id: TEXT\n  - season: TEXT\n  - live_period: INTEGER\n  - live_pc_time: TEXT\n  - natl_tv_broadcaster_abbreviation: TEXT\n  - live_period_time_bcast: TEXT\n  - wh_status: INTEGER\n\nTable: other_stats (28271 rows)\nColumns:\n  - game_id: TEXT\n  - league_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_home: TEXT\n  - pts_paint_home: INTEGER\n  - pts_2nd_chance_home: INTEGER\n  - pts_fb_home: INTEGER\n  - largest_lead_home: INTEGER\n  - lead_changes: INTEGER\n  - times_tied: INTEGER\n  - team_turnovers_home: INTEGER\n  - total_turnovers_home: INTEGER\n  - team_rebounds_home: INTEGER\n  - pts_off_to_home: INTEGER\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_away: TEXT\n  - pts_paint_away: INTEGER\n  - pts_2nd_chance_away: INTEGER\n  - pts_fb_away: INTEGER\n  - largest_lead_away: INTEGER\n  - team_turnovers_away: INTEGER\n  - total_turnovers_away: INTEGER\n  - team_rebounds_away: INTEGER\n  - pts_off_to_away: INTEGER\n\nTable: officials (70971 rows)\nColumns:\n  - game_id: TEXT\n  - official_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n\nTable: inactive_players (110191 rows)\nColumns:\n  - game_id: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - jersey_num: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n\nTable: game_info (58053 rows)\nColumns:\n  - game_id: TEXT\n  - game_date: TIMESTAMP\n  - attendance: INTEGER\n  - game_time: TEXT\n\nTable: line_score (58053 rows)\nColumns:\n  - game_date_est: TIMESTAMP\n  - game_sequence: INTEGER\n  - game_id: TEXT\n  - team_id_home: TEXT\n  - team_abbreviation_home: TEXT\n  - team_city_name_home: TEXT\n  - team_nickname_home: TEXT\n  - team_wins_losses_home: TEXT\n  - pts_qtr1_home: TEXT\n  - pts_qtr2_home: TEXT\n  - pts_qtr3_home: TEXT\n  - pts_qtr4_home: TEXT\n  - pts_ot1_home: INTEGER\n  - pts_ot2_home: INTEGER\n  - pts_ot3_home: INTEGER\n  - pts_ot4_home: INTEGER\n  - pts_ot5_home: INTEGER\n  - pts_ot6_home: INTEGER\n  - pts_ot7_home: INTEGER\n  - pts_ot8_home: INTEGER\n  - pts_ot9_home: INTEGER\n  - pts_ot10_home: INTEGER\n  - pts_home: REAL\n  - team_id_away: TEXT\n  - team_abbreviation_away: TEXT\n  - team_city_name_away: TEXT\n  - team_nickname_away: TEXT\n  - team_wins_losses_away: TEXT\n  - pts_qtr1_away: INTEGER\n  - pts_qtr2_away: TEXT\n  - pts_qtr3_away: TEXT\n  - pts_qtr4_away: INTEGER\n  - pts_ot1_away: INTEGER\n  - pts_ot2_away: INTEGER\n  - pts_ot3_away: INTEGER\n  - pts_ot4_away: INTEGER\n  - pts_ot5_away: INTEGER\n  - pts_ot6_away: INTEGER\n  - pts_ot7_away: INTEGER\n  - pts_ot8_away: INTEGER\n  - pts_ot9_away: INTEGER\n  - pts_ot10_away: INTEGER\n  - pts_away: REAL\n\nTable: player (4815 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - is_active: INTEGER\n\nTable: team (30 rows)\nColumns:\n  - id: TEXT\n  - full_name: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - city: TEXT\n  - state: TEXT\n  - year_founded: REAL\n\nTable: common_player_info (3632 rows)\nColumns:\n  - person_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - display_first_last: TEXT\n  - display_last_comma_first: TEXT\n  - display_fi_last: TEXT\n  - player_slug: TEXT\n  - birthdate: TIMESTAMP\n  - school: TEXT\n  - country: TEXT\n  - last_affiliation: TEXT\n  - height: TEXT\n  - weight: TEXT\n  - season_exp: REAL\n  - jersey: TEXT\n  - position: TEXT\n  - rosterstatus: TEXT\n  - games_played_current_season_flag: TEXT\n  - team_id: INTEGER\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_code: TEXT\n  - team_city: TEXT\n  - playercode: TEXT\n  - from_year: REAL\n  - to_year: REAL\n  - dleague_flag: TEXT\n  - nba_flag: TEXT\n  - games_played_flag: TEXT\n  - draft_year: TEXT\n  - draft_round: TEXT\n  - draft_number: TEXT\n  - greatest_75_flag: TEXT\n\nTable: team_details (27 rows)\nColumns:\n  - team_id: TEXT\n  - abbreviation: TEXT\n  - nickname: TEXT\n  - yearfounded: REAL\n  - city: TEXT\n  - arena: TEXT\n  - arenacapacity: REAL\n  - owner: TEXT\n  - generalmanager: TEXT\n  - headcoach: TEXT\n  - dleagueaffiliation: TEXT\n  - facebook: TEXT\n  - instagram: TEXT\n  - twitter: TEXT\n\nTable: team_history (50 rows)\nColumns:\n  - team_id: TEXT\n  - city: TEXT\n  - nickname: TEXT\n  - year_founded: INTEGER\n  - year_active_till: INTEGER\n\nTable: draft_combine_stats (1633 rows)\nColumns:\n  - season: TEXT\n  - player_id: TEXT\n  - first_name: TEXT\n  - last_name: TEXT\n  - player_name: TEXT\n  - position: TEXT\n  - height_wo_shoes: REAL\n  - height_wo_shoes_ft_in: TEXT\n  - height_w_shoes: REAL\n  - height_w_shoes_ft_in: TEXT\n  - weight: TEXT\n  - wingspan: REAL\n  - wingspan_ft_in: TEXT\n  - standing_reach: REAL\n  - standing_reach_ft_in: TEXT\n  - body_fat_pct: TEXT\n  - hand_length: TEXT\n  - hand_width: TEXT\n  - standing_vertical_leap: REAL\n  - max_vertical_leap: REAL\n  - lane_agility_time: REAL\n  - modified_lane_agility_time: REAL\n  - three_quarter_sprint: REAL\n  - bench_press: REAL\n  - spot_fifteen_corner_left: TEXT\n  - spot_fifteen_break_left: TEXT\n  - spot_fifteen_top_key: TEXT\n  - spot_fifteen_break_right: TEXT\n  - spot_fifteen_corner_right: TEXT\n  - spot_college_corner_left: TEXT\n  - spot_college_break_left: TEXT\n  - spot_college_top_key: TEXT\n  - spot_college_break_right: TEXT\n  - spot_college_corner_right: TEXT\n  - spot_nba_corner_left: TEXT\n  - spot_nba_break_left: TEXT\n  - spot_nba_top_key: TEXT\n  - spot_nba_break_right: TEXT\n  - spot_nba_corner_right: TEXT\n  - off_drib_fifteen_break_left: TEXT\n  - off_drib_fifteen_top_key: TEXT\n  - off_drib_fifteen_break_right: TEXT\n  - off_drib_college_break_left: TEXT\n  - off_drib_college_top_key: TEXT\n  - off_drib_college_break_right: TEXT\n  - on_move_fifteen: TEXT\n  - on_move_college: TEXT\n\nTable: draft_history (8257 rows)\nColumns:\n  - person_id: TEXT\n  - player_name: TEXT\n  - season: TEXT\n  - round_number: INTEGER\n  - round_pick: INTEGER\n  - overall_pick: INTEGER\n  - draft_type: TEXT\n  - team_id: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - organization: TEXT\n  - organization_type: TEXT\n  - player_profile_flag: TEXT\n\nTable: team_info_common (0 rows)\nColumns:\n  - team_id: TEXT\n  - season_year: TEXT\n  - team_city: TEXT\n  - team_name: TEXT\n  - team_abbreviation: TEXT\n  - team_conference: TEXT\n  - team_division: TEXT\n  - team_code: TEXT\n  - team_slug: TEXT\n  - w: INTEGER\n  - l: INTEGER\n  - pct: REAL\n  - conf_rank: INTEGER\n  - div_rank: INTEGER\n  - min_year: INTEGER\n  - max_year: INTEGER\n  - league_id: TEXT\n  - season_id: TEXT\n  - pts_rank: INTEGER\n  - pts_pg: REAL\n  - reb_rank: INTEGER\n  - reb_pg: REAL\n  - ast_rank: INTEGER\n  - ast_pg: REAL\n  - opp_pts_rank: INTEGER\n  - opp_pts_pg: REAL\n\n}\n\n{RELEVANT QUERY EXAMPLES:\n\nQuestion: What percentage of games are decided by 5 points or less?\nSQL: SELECT ROUND(CAST(SUM(CASE WHEN ABS(pts_home - pts_away) <= 5 THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100, 2) as close_game_pct FROM game\nSample results (1 of 1 rows):\n  (29.2,)\n\n\nQuestion: How many games were decided by a single possession (3 points or less)?\nSQL: SELECT COUNT(*) FROM game WHERE ABS(pts_home - pts_away) <= 3\nSample results (1 of 1 rows):\n  (11067,)\n\n\nQuestion: Which team has the highest percentage of games with 100+ points scored?\nSQL: SELECT t.full_name FROM game g JOIN team t ON t.id IN (g.team_id_home, g.team_id_away) GROUP BY t.id, t.full_name HAVING COUNT(*) >= 50 ORDER BY CAST(SUM(CASE WHEN (g.team_id_home = t.id AND g.pts_home >= 100) OR (g.team_id_away = t.id AND g.pts_away >= 100) THEN 1 ELSE 0 END) AS FLOAT) / COUNT(*) * 100 DESC LIMIT 1\nSample results (1 of 1 rows):\n  ('Phoenix Suns',)\n\n\n}\n\nIMPORTANT RULES:\n1. Return ONLY the SQL query without explanations, comments, or markdown formatting\n2. Use proper SQL syntax for SQLite (avoid MySQL or PostgreSQL specific functions)\n3. For percentage calculations, use CAST(numerator AS FLOAT) / denominator\n4. For rounding, use ROUND(value, decimal_places)\n5. When filtering text fields, use LIKE with wildcards (%) for partial matches\n6. For empty string checks, use column != ''\n7. NEVER use column aliases in WHERE, GROUP BY, or HAVING clauses - SQLite doesn't support this\n8. Use table aliases for readability (e.g., SELECT t.full_name FROM team t)\n9. For aggregations with conditions, use SUM(CASE WHEN condition THEN 1 ELSE 0 END)\n10. Avoid subqueries that reference outer query columns - SQLite has limited support for correlated subqueries\n11. For complex aggregations, use separate subqueries with explicit joins\n12. Return ONLY the columns requested in the question - don't add extra columns\n13. For exact result matching, ensure your query returns the same column count and data types\n14. Pay close attention to the sample results from similar queries to match the expected format\n\nNow, convert the following question to SQL:\nWhat percentage of games are decided by 5 points or less?",
      "result_match": true,
      "success": true,
      "generated_result": [
        [
          29.2
        ]
      ],
      "expected_result": [
        [
          29.2
        ]
      ]
    }
  ],
  "metrics": {
    "total": 98,
    "successful": 90,
    "result_matches": 90,
    "success_rate": 0.9183673469387755,
    "result_match_rate": 0.9183673469387755,
    "failure_rate": 0.08163265306122447
  }
}